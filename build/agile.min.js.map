{"version":3,"file":"agile.min.js","sources":["../src/core/Agile.js","../src/core/Css.js","../src/utils/Utils.js","../src/utils/Color.js","../src/utils/IDUtils.js","../src/display/DisplayObject.js","../src/display/Circle.js","../src/display/Dom.js","../src/display/Container.js","../src/display/Ellipse.js","../src/event/EventDispatcher.js","../src/utils/LoadManager.js","../src/display/Image.js","../src/display/Line.js","../src/utils/JsonUtils.js","../src/animate/Keyframes.js","../src/animate/Avatar.js","../src/display/Text.js","../src/animate/Timeline.js","../src/display/MovieClip.js","../src/display/Rect.js","../src/display/SpriteSheet.js","../src/display/Triangle.js","../src/animate/ease.js","../src/extras/ScrollingBg.js","../src/extras/Semicircle.js","../src/filter/Filter.js","../src/animate/MovieClipLabel.js","../src/animate/Tween.js","../src/index.js"],"sourcesContent":["export default {\n    GROUP_LOADED: 'groupLoaded',\n    SINGLE_LOADED: 'singleLoaded',\n    LOAD_ERROR: 'loadError',\n    IMAGE_LOADED: 'imageLoaded',\n\n    _avatar: {\n        mode: '2d',\n        support3d: true,\n        backface: true\n    },\n\n    keywordArr: ['x', 'y', 'z', 'width', 'height', 'color', 'regX', 'regY', 'alpha', 'rotation', 'rotationX', 'rotationY', 'rotationZ', 'scaleX', 'scaleY', 'scaleZ', 'skewX', 'skewY', 'zIndex', 'round', 'radius', 'radiusX', 'radiusY', 'originalWidth', 'originalHeight'],\n    perspective: 500,\n    DEFAULT_DEPTH: 100,\n    agileObjs: {},\n    containers: [],\n\n    getEleById(id) {\n        return this.agileObjs[id];\n    },\n\n    get keyword() {\n        if (!this._avatar.keyword) this._avatar.keyword = '_' + this.keywordArr.join('_') + '_';\n        return this._avatar.keyword;\n    },\n\n    get transform() {\n        if (!this._avatar.transform) this._avatar.transform = this.Css.getPrefix(2) + 'transform';\n        return this._avatar.transform;\n    },\n\n    get transformOrigin() {\n        if (!this._avatar.transformOrigin) this._avatar.transformOrigin = this.Css.getPrefix(2) + 'transform-origin';\n        return this._avatar.transformOrigin;\n    },\n\n    get mode() {\n        return this._avatar.mode;\n    },\n\n    set mode(mode) {\n        if (this.support3d)\n            this._avatar.mode = mode;\n        else\n            this._avatar.mode = '2d';\n    },\n\n    get support3d() {\n        if (!this._avatar.support3d) this._avatar.support3d = this.Css.support3d();\n        return this._avatar.support3d;\n    },\n\n    get backface() {\n        return this._avatar.backface;\n    },\n\n    set backface(backface) {\n        this._avatar.backface = backface;\n        for (var key in this.agileObjs) {\n            const agile = this.agileObjs[key];\n            agile.backface = backface;\n        }\n    }\n}","export default {\n\tselect(val) {\n\t\tif (/^(#|\\.).*/g.test(val) || val === 'body')\n\t\t\treturn document.querySelector(val);\n\t\telse\n\t\t\treturn document.getElementById(val);\n\t},\n\n\tcreateElement(tag = 'div') {\n\t\treturn document.createElement(tag);\n\t},\n\n\tattr(element, key, val) {\n\t\tif (val === undefined) return element.getAttribute(key);\n\n\t\telement.setAttribute(key, val);\n\t},\n\n\tcss(element, style, value = 2) {\n\t\tif (typeof style === 'object') {\n\t\t\tfor (let ss in style) {\n\t\t\t\tif (value === 2)\n\t\t\t\t\tthis.css2(element, ss, style[ss]);\n\t\t\t\telse\n\t\t\t\t\tthis.css3(element, ss, style[ss]);\n\t\t\t}\n\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn this.css2(element, style, value);\n\t\t}\n\t},\n\n\tcss2(element, style, value) {\n\t\tif (!(value === undefined)) {\n\t\t\telement.style[`${style}`] = value;\n\t\t\treturn value;\n\t\t} else {\n\t\t\tconst computedStyle = getComputedStyle(element, '');\n\t\t\treturn element.style[`${style}`] || computedStyle.getPropertyValue(`${style}`);\n\t\t}\n\t},\n\n\tcss3j(element, style, value) {\n\t\telement.style[style] = `-webkit-${value}`;\n\t\telement.style[style] = `-moz-${value}`;\n\t\telement.style[style] = `-ms-${value}`;\n\t\telement.style[style] = `-o-${value}`;\n\t\telement.style[style] = `${value}`;\n\t},\n\n\tcss3(element, style, value) {\n\t\tconst fixStyle = style.charAt(0).toUpperCase() + style.substr(1);\n\n\t\tif (!(value === undefined)) {\n\t\t\telement.style[`Webkit${fixStyle}`] = value;\n\t\t\telement.style[`Moz${fixStyle}`] = value;\n\t\t\telement.style[`ms${fixStyle}`] = value;\n\t\t\telement.style[`O${fixStyle}`] = value;\n\t\t\telement.style[`${style}`] = value;\n\t\t} else {\n\t\t\treturn this.getCss3(element, style);\n\t\t}\n\t},\n\n\tgetCss3(element, style) {\n\t\tconst computedStyle = getComputedStyle(element, '');\n\t\tconst a = element.style['' + style] || element.style['-webkit-' + style] || element.style['-o-' + style] || element.style['-ms-' + style] || element.style['-moz-' + style];\n\t\tconst b = computedStyle.getPropertyValue('' + style) || computedStyle.getPropertyValue('-webkit- ' + style) || computedStyle.getPropertyValue('-o-' + style) || computedStyle.getPropertyValue('-ms-' + style) || computedStyle.getPropertyValue('-moz-' + style);\n\n\t\treturn a || b;\n\t},\n\n\tbakCss3(element, style, value) {\n\t\tif (!(value === undefined)) {\n\t\t\telement.style['-webkit-' + style] = value;\n\t\t\telement.style['-moz-' + style] = value;\n\t\t\telement.style['-ms-' + style] = value;\n\t\t\telement.style['-o-' + style] = value;\n\t\t\telement.style['' + style] = value;\n\n\t\t\treturn value;\n\t\t} else {\n\t\t\tconst computedStyle = getComputedStyle(element, '');\n\t\t\tconst a = element.style['' + style] || element.style['-webkit-' + style] || element.style['-o-' + style] || element.style['-ms-' + style] || element.style['-moz-' + style];\n\t\t\tconst b = computedStyle.getPropertyValue('' + style) || computedStyle.getPropertyValue('-webkit- ' + style) || computedStyle.getPropertyValue('-o-' + style) || computedStyle.getPropertyValue('-ms-' + style) || computedStyle.getPropertyValue('-moz-' + style);\n\t\t\treturn a || b;\n\t\t}\n\t},\n\n\taddClass(element, newClassName) {\n\t\tconst className = element.className;\n\t\tconst blank = (className !== '') ? ' ' : '';\n\n\t\tif (!this.hasClass(element, newClassName)) element.className = className + blank + newClassName;\n\t},\n\n\tremoveClass(element, cls) {\n\t\tif (this.hasClass(element, cls)) {\n\t\t\tconst reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n\t\t\telement.className = element.className.replace(reg, '');\n\t\t}\n\t},\n\n\thasClass(element, className) {\n\t\treturn element.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n\t},\n\n\tgetDynamicSheet() {\n\t\tif (!this['dynamicSheet']) {\n\t\t\tconst style = document.createElement('style');\n\t\t\tstyle.rel = 'stylesheet';\n\t\t\tstyle.type = 'text/css';\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(style);\n\t\t\tthis['dynamicSheet'] = style.sheet;\n\t\t}\n\n\t\treturn this['dynamicSheet'];\n\t},\n\n\tgetTestElement() {\n\t\tif (!this['testElement']) this['testElement'] = document.createElement('div');\n\t\treturn this['testElement'];\n\t},\n\n\tgetPrefix(type = 1) {\n\t\tlet prefix = '';\n\t\tconst prefixs = ['Moz', 'Webkit', 'ms', 'O', ''];\n\n\t\tfor (let i = 0, length = prefixs.length; i < length; i++) {\n\t\t\tlet css3Prefix = prefixs[i];\n\n\t\t\tif ((`${css3Prefix}Transition`) in this.getTestElement().style) {\n\t\t\t\tif (type !== 1) {\n\t\t\t\t\tprefix = css3Prefix.toLocaleLowerCase();\n\t\t\t\t\tif (prefix !== '') prefix = '-' + prefix + '-';\n\t\t\t\t} else {\n\t\t\t\t\tprefix = css3Prefix;\n\t\t\t\t}\n\n\t\t\t\treturn prefix;\n\t\t\t}\n\t\t}\n\t\treturn prefix;\n\t},\n\n\tsupport3d() {\n\t\tlet support3d;\n\t\tconst el = document.createElement('p');\n\t\tconst transforms = {\n\t\t\t'webkitTransform': '-webkit-transform',\n\t\t\t'OTransform': '-o-transform',\n\t\t\t'msTransform': '-ms-transform',\n\t\t\t'MozTransform': '-moz-transform',\n\t\t\t'transform': 'transform'\n\t\t};\n\n\t\tdocument.body.insertBefore(el, null);\n\t\tfor (let t in transforms) {\n\t\t\tif (el.style[t] !== undefined) {\n\t\t\t\tel.style[t] = 'translate3d(1px,1px,1px)';\n\t\t\t\tsupport3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\n\t\t\t}\n\t\t}\n\t\tdocument.body.removeChild(el);\n\n\t\treturn (support3d !== undefined && support3d.length > 0 && support3d !== 'none');\n\t}\n}","export default {\n\tkeys(object) {\n\t\treturn Object.keys(object);\n\t},\n\n\tisNumber(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t},\n\n\tisArray(val) {\n\t\treturn Object.prototype.toString.call(val) === '[object Array]'\n\t},\n\n\tisEmpty(obj) {\n\t\tif (!obj) return true;\n\n\t\tfor (let prop in obj) {\n\t\t\tif (obj.hasOwnProperty(prop)) return false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\tisMobile() {\n\t\treturn /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(window.navigator.userAgent.toLowerCase());\n\t},\n\n\tarrayRemove(arr, val) {\n\t\tconst index = arr.indexOf(val);\n\t\tif (index > -1) arr.splice(index, 1);\n\n\t\treturn index;\n\t},\n\n\tdestroyObject(obj) {\n\t\tfor (let o in obj) delete obj[o];\n\t},\n\n\tobjectforkey(obj, val) {\n\t\tfor (let key in obj) {\n\t\t\tlet index = obj[key].indexOf(val);\n\t\t\tif (index === 0 && obj[key].charAt(index + val.length) === ' ')\n\t\t\t\treturn key;\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tinitValue(a, b) {\n\t\tconst s = (a === undefined || a === null) ? b : a;\n\t\treturn s;\n\t},\n\n\tgetCssValue(agileEle, style, index, css3) {\n\t\tlet str;\n\t\tif (css3 === 3)\n\t\t\tstr = this.getStyleBySpace(agileEle.css3(style), index);\n\t\telse\n\t\t\tstr = this.getStyleBySpace(agileEle.css2(style), index);\n\n\t\treturn str ? this.otherToFloat(str) : null;\n\t},\n\n\tgetStyleBySpace(str, index) {\n\t\tif (!str) return null;\n\t\tconst arr = str.split(' ');\n\n\t\tif (index >= arr.lenght)\n\t\t\treturn null;\n\t\telse\n\t\t\treturn arr[index];\n\t},\n\n\treplace(str, a, b) {\n\t\tlet s = '';\n\t\tif (this.isArray(a)) {\n\t\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\t\t// if (i != a.length - 1)\n\t\t\t\ts += a[i] + '|';\n\t\t\t}\n\t\t} else {\n\t\t\ts = a;\n\t\t}\n\n\t\treturn str.replace(new RegExp(s, 'gm'), b);\n\t},\n\n\tbrowser() {\n\t\tconst isOpera = (window.opr && window.opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n\t\tconst isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\t\tconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\t\tconst isIE = !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);\n\t\tconst isChrome = !!window.chrome && !!window.chrome.webstore;\n\n\t\treturn { isOpera, isFirefox, isSafari, isIE, isChrome };\n\t}\n}","import Utils from './Utils';\n\nexport default {\n\n\tgradient(type = 'linear', ...rest) {\n\t\tlet color;\n\n\t\tif (type === 'linear' || type === 'line') {\n\t\t\tcolor = 'linear-gradient(';\n\t\t\tfor (let i = 0, length = rest.length; i < length; i++) {\n\t\t\t\tif (i === 0 && Utils.isNumber(rest[i])) {\n\t\t\t\t\tcolor += this.getDirection(rest[i]);\n\t\t\t\t} else if (i === length - 1) {\n\t\t\t\t\tcolor += rest[i] + ')';\n\t\t\t\t} else {\n\t\t\t\t\tcolor += rest[i] + ',';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn color;\n\t\t} else if (type === 'radial' || type === 'rad') {\n\t\t\tcolor = 'radial-gradient(';\n\t\t\tfor (let i = 0, length = rest.length; i < length; i++) {\n\t\t\t\tif (i === length - 1)\n\t\t\t\t\tcolor += rest[i] + ')';\n\t\t\t\telse\n\t\t\t\t\tcolor += rest[i] + ',';\n\t\t\t}\n\n\t\t\treturn color;\n\t\t}\n\t},\n\n\tgetDirection(deg) {\n\t\tlet dir;\n\t\tif (deg === 0) {\n\t\t\tdir = 'to bottom,'\n\t\t} else if (deg === 180) {\n\t\t\tdir = deg + 'to up,'\n\t\t} else if (deg === 90) {\n\t\t\tdir = deg + 'to right,'\n\t\t} else if (deg === 270) {\n\t\t\tdir = deg + 'to left,'\n\t\t} else {\n\t\t\tdir = deg + 'deg,'\n\t\t}\n\n\t\treturn dir;\n\t},\n\n\trgba(r, g, b, a) {\n\t\ta = Utils.initValue(a, 1);\n\t\treturn 'rbga(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n\t},\n\n\thsl(h, s = 100, l = 100, a = 1) {\n\t\treturn `hsl(${h}, ${s}%, ${l}%, a)`;\n\t},\n\n\trandomColor() {\n\t\treturn '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).slice(-6);\n\t},\n\n\talpha0: 'transparent'\n}","const IDCache = {};\n\nexport default {\n\n\tgenerateID(name) {\n\t\tif (!IDCache[name]) IDCache[name] = 0;\n\t\treturn name + '_' + (IDCache[name]++);\n\t}\n}","import Agile from '../core/Agile';\nimport Css from '../core/Css';\nimport Color from '../utils/Color';\nimport Utils from '../utils/Utils';\nimport IDUtils from '../utils/IDUtils';\n\nexport default class DisplayObject {\n\n    constructor() {\n        this._avatar = {\n            id: '',\n            x: 0,\n            y: 0,\n            z: 0,\n            regX: .5,\n            regY: .5,\n            width: 0,\n            height: 0,\n            alpha: 1,\n            scaleX: 1,\n            scaleY: 1,\n            scaleZ: 1,\n            skewX: 0,\n            skewY: 0,\n            zIndex: 0,\n            rotationX: 0,\n            rotationY: 0,\n            rotationZ: 0,\n            visible: true,\n            position: 'absolute',\n            color: null,\n            backgroundImage: null,\n            originalWidth: null,\n            originalHeight: null,\n            realWidth: null,\n            realHeight: null,\n            backface: true,\n            maxChildrenDepth: 0\n        };\n\n        this.numChildren = 0;\n        this.childrens = [];\n        this.filters = [];\n        this.animations = {};\n        this.transitions = {};\n        this.parent = null;\n        this.createElement();\n\n        this.position = 'absolute';\n        this.zIndex = Agile.DEFAULT_DEPTH;\n        if (this.id !== '') Agile.agileObjs[this.id] = this;\n\n        this.x = 0;\n        this.y = 0;\n    }\n\n    set id(id) {\n        this._avatar.id = id;\n        Css.attr(this.element, 'id', this._avatar.id);\n    }\n    get id() {\n        return this._avatar.id;\n    }\n\n    set x(x) {\n        this._avatar.x = x;\n        this.transform();\n    }\n    get x() {\n        return this._avatar.x;\n    }\n\n    set y(y) {\n        this._avatar.y = y;\n        this.transform();\n    }\n    get y() {\n        return this._avatar.y;\n    }\n\n    set z(z) {\n        this._avatar.z = z;\n        this.transform();\n    }\n    get z() {\n        return this._avatar.z;\n    }\n\n    set scaleX(scaleX) {\n        this._avatar.scaleX = scaleX;\n        this._avatar.width = scaleX * this.originalWidth;\n        this.transform();\n    }\n    get scaleX() {\n        return this._avatar.scaleX;\n    }\n\n    set scaleY(scaleY) {\n        this._avatar.scaleY = scaleY;\n        this._avatar.height = scaleY * this.originalHeight;\n        this.transform();\n    }\n    get scaleY() {\n        return this._avatar.scaleY;\n    }\n\n    set scaleZ(scaleZ) {\n        this._avatar.scaleZ = scaleZ;\n        this.transform();\n    }\n    get scaleZ() {\n        return this._avatar.scaleZ;\n    }\n\n    set skewX(skewX) {\n        this._avatar.skewX = skewX;\n        this.transform();\n    }\n    get skewX() {\n        return this._avatar.skewX;\n    }\n\n    set skewY(skewY) {\n        this._avatar.skewY = skewY;\n        this.transform();\n    }\n    get skewY() {\n        return this._avatar.skewY;\n    }\n\n    set rotationX(rotationX) {\n        this._avatar.rotationX = rotationX;\n        this.transform();\n    }\n    get rotationX() {\n        return this._avatar.rotationX;\n    }\n\n    set rotationY(rotationY) {\n        this._avatar.rotationY = rotationY;\n        this.transform();\n    }\n    get rotationY() {\n        return this._avatar.rotationY;\n    }\n\n    set rotationZ(rotationZ) {\n        this._avatar.rotationZ = rotationZ;\n        this.transform();\n    }\n    get rotationZ() {\n        return this._avatar.rotationZ;\n    }\n\n    set rotation(rotation) {\n        this._avatar.rotationZ = rotation;\n        this.transform();\n    }\n    get rotation() {\n        return this._avatar.rotationZ;\n    }\n\n    set regX(regX) {\n        this._avatar.regX = regX;\n        const regx = parseFloat(this.regX) * 100 + '%';\n        const regy = parseFloat(this.regY) * 100 + '%';\n        this.css3('transformOrigin', `${regx} ${regy}`);\n        this.transform();\n    }\n    get regX() {\n        return this._avatar.regX;\n    }\n\n    set regY(regY) {\n        this._avatar.regY = regY;\n        const regx = parseFloat(this.regX) * 100 + '%';\n        const regy = parseFloat(this.regY) * 100 + '%';\n\n        this.css3('transformOrigin', `${regx} ${regy}`);\n        this.transform();\n    }\n    get regY() {\n        return this._avatar.regY;\n    }\n\n    set regZ(regZ) {\n        this._avatar.regZ = regZ;\n        const regx = parseFloat(this.regX) * 100 + '%';\n        const regy = parseFloat(this.regY) * 100 + '%';\n        const regz = parseFloat(this.regZ) * 100 + '%';\n\n        this.css3('transformOrigin', `${regx} ${regy} ${regz}`);\n        this.transform();\n    }\n    get regZ() {\n        return this._avatar.regZ;\n    }\n\n    set originalWidth(originalWidth) {\n        this._avatar.originalWidth = originalWidth;\n        this.css2('width', this.originalWidth + 'px');\n    }\n    get originalWidth() {\n        return this._avatar.originalWidth;\n    }\n\n    set originalHeight(originalHeight) {\n        this._avatar.originalHeight = originalHeight;\n        this.css2('height', this.originalHeight + 'px');\n    }\n    get originalHeight() {\n        return this._avatar.originalHeight;\n    }\n\n    set width(width) {\n        if (!this.originalWidth) {\n            this._avatar.width = width;\n            this.originalWidth = width;\n        } else {\n            this.scaleX = width / this.originalWidth;\n        }\n    }\n    get width() {\n        return this._avatar.width;\n    }\n\n    set height(height) {\n        if (!this.originalHeight) {\n            this._avatar.height = height;\n            this.originalHeight = height;\n        } else {\n            this.scaleY = height / this.originalHeight;\n        }\n    }\n    get height() {\n        return this._avatar.height;\n    }\n\n    set visible(visible) {\n        this._avatar.visible = visible;\n        const vis = visible ? 'block' : 'none';\n        this.css2('display', vis);\n    }\n    get visible() {\n        return this._avatar.visible;\n    }\n\n    set alpha(alpha) {\n        this._avatar.alpha = alpha;\n        this.css2('opacity', this.alpha);\n    }\n    get alpha() {\n        return this._avatar.alpha;\n    }\n\n    set color(color) {\n        if (color === 'random' || color === '#random') color = Color.randomColor();\n        this._avatar.color = color;\n\n        if (color.indexOf('gradient') > -1) this.css3j('background', this.color);\n        else this.css2('backgroundColor', this.color);\n    }\n    get color() {\n        return this._avatar.color;\n    }\n\n    set backgroundImage(backgroundImage) {\n        this._avatar.backgroundImage = backgroundImage;\n\n        const img = (backgroundImage !== null || backgroundImage !== undefined) ? `url(${this.backgroundImage})` : null;\n        this.css2('backgroundImage', img);\n    }\n    get backgroundImage() {\n        return this._avatar.backgroundImage;\n    }\n\n    set position(position) {\n        this._avatar.position = position;\n        this.css2('position', this.position);\n    }\n    get position() {\n        return this._avatar.position;\n    }\n\n    set zIndex(zIndex) {\n        this._avatar.zIndex = zIndex;\n        this.css2('zIndex', this.zIndex);\n    }\n    get zIndex() {\n        return this._avatar.zIndex;\n    }\n\n    set mask(mask) {\n        if ((mask + '').indexOf('gradient') > -1) {\n            this.css3('maskImage', mask);\n        } else {\n            mask = mask ? `url(${mask})` : null;\n            this.css3('maskImage', mask);\n        }\n    }\n    set select(select) {\n        select = (select === false || select === null) ? 'none' : 'auto';\n        this.css3('userSelect', select);\n    }\n\n    set cursor(cursor) {\n        cursor = (cursor === true || cursor === 'hand' || cursor === 'pointer') ? 'pointer' : 'auto';\n        this.css2('cursor', cursor);\n    }\n    get cursor() {\n        return this.css2('cursor');\n    }\n\n    set backface(backface) {\n        this._avatar.backface = backface;\n        const bf = backface ? 'visible' : 'hidden';\n        this.css3('backfaceVisibility', bf);\n    }\n    get backface() {\n        return this._avatar.backface;\n    }\n\n    createElement() {\n        this._avatar.id = IDUtils.generateID(this.toString());\n        this.element = Css.createElement();\n        Css.attr(this.element, 'id', this._avatar.id);\n    }\n\n    background(color) {\n        if (color.indexOf('.') > 0) this.backgroundImage = color;\n        else this.color = color;\n    }\n\n    getRealWidth() {\n        if (!this._avatar.realWidth) this._avatar.realWidth = this.originalWidth;\n        return this._avatar.realWidth * this.scaleX;\n    }\n\n    getRealHeight() {\n        if (!this._avatar.realHeight) this._avatar.realHeight = this.originalHeight;\n        return this._avatar.realHeight * this.scaleY;\n    }\n\n    css(style, value) {\n        if (this.element) return Css.css(this.element, style, value);\n    }\n\n    css2(style, value) {\n        if (this.element) return Css.css2(this.element, style, value);\n    }\n\n    css3(style, value) {\n        if (this.element) return Css.css3(this.element, style, value);\n    }\n\n    css3j(style, value) {\n        if (this.element) Css.css3j(this.element, style, value);\n    }\n\n    addClass(styleName) {\n        if (this.element) Css.addClass(this.element, styleName);\n    }\n\n    removeClass(styleName) {\n        if (this.element) Css.removeClass(this.element, styleName);\n    }\n\n    addFrame(duration, frameObj, parmObj) {\n        return Agile.Timeline.addFrame(this, duration, frameObj, parmObj);\n    }\n\n    removeFrame(frame, removeStyle) {\n        return Agile.Timeline.removeFrame(this, frame, removeStyle);\n    }\n\n    removeFrameAfter(frame, complete, removeStyle) {\n        Agile.Timeline.removeFrameAfter(this, frame, complete, removeStyle);\n    }\n\n    pause() {\n        Agile.Timeline.pause(this);\n    }\n\n    resume() {\n        Agile.Timeline.resume(this);\n    }\n\n    addChild(child) {\n        this._avatar.maxChildrenDepth++;\n        child.zIndex = Agile.DEFAULT_DEPTH + this._avatar.maxChildrenDepth;\n\n        if (child.parent !== this) {\n            this.element.appendChild(child.element);\n            this.numChildren++;\n            this.childrens.push(child);\n            child.parent = this;\n            child.transform();\n\n            if (!this._avatar.realWidth) this._avatar.realWidth = this.originalWidth;\n            const left = Math.min(child.x - child.width * child.regX, -this.width * this.regX);\n            this._avatar.realWidth += Math.abs((left + this.width * this.regX));\n\n            const right = Math.max(child.x + child.width * (1 - child.regX), this.width * (1 - this.regX));\n            this._avatar.realWidth += (right - this.width * (1 - this.regX));\n\n            if (!this._avatar.realHeight) this._avatar.realHeight = this.originalHeight;\n            const top = Math.min(child.y - child.height * child.regY, -this.height * this.regY);\n            this._avatar.realHeight += Math.abs((top + this.height * this.regY));\n\n            const bottom = Math.max(child.y + child.height * (1 - child.regY), this.height * (1 - this.regY));\n            this._avatar.realHeight += (bottom - this.height * (1 - this.regY));\n        }\n\n        return child;\n    }\n\n    addChildAt(child, index) {\n        this.addChild(child);\n        child.zIndex = index;\n    }\n\n    removeChild(child) {\n        if (child.parent === this) {\n            this.element.removeChild(child.element);\n            this.numChildren--;\n            Utils.arrayRemove(this.childrens, child);\n\n            child.zIndex = Agile.DEFAULT_DEPTH;\n            child.parent = null;\n            child.transform();\n        }\n    }\n\n    addFilter(filter) {\n        this.filters.push(filter);\n        filter.apply(this);\n    }\n\n    removeFilter(filter) {\n        Utils.arrayRemove(this.filters, filter);\n        filter.erase(this);\n    }\n\n    addEventListener(type, listener, useCapture) {\n        this.element.addEventListener(type, listener, useCapture);\n    }\n\n    removeEventListener(type, listener, useCapture) {\n        this.element.removeEventListener(type, listener, useCapture);\n    }\n\n    transform() {\n        let parentOffsetX, parentOffsetY, thisOffsetX, thisOffsetY, translate, rotate, scale, skew;\n\n        if (Agile.mode === '3d' && Agile.support3d) {\n            parentOffsetX = this.parent ? this.parent.regX * this.parent.originalWidth : 0;\n            parentOffsetY = this.parent ? this.parent.regY * this.parent.originalHeight : 0;\n            thisOffsetX = this.regX * this.originalWidth;\n            thisOffsetY = this.regY * this.originalHeight;\n            translate = 'translate3d(' + (this.x - thisOffsetX + parentOffsetX) + 'px,' + (this.y - thisOffsetY + parentOffsetY) + 'px,' + this.z + 'px) ';\n            rotate = 'rotateX(' + this.rotationX + 'deg) ' + 'rotateY(' + this.rotationY + 'deg) ' + 'rotateZ(' + this.rotationZ + 'deg) ';\n            scale = 'scale3d(' + this.scaleX + ',' + this.scaleY + ',' + this.scaleZ + ') ';\n            skew = 'skew(' + this.skewX + 'deg,' + this.skewY + 'deg)';\n\n            this.css3('transform', translate + rotate + scale + skew);\n        } else {\n            parentOffsetX = this.parent ? this.parent.regX * this.parent.originalWidth : 0;\n            parentOffsetY = this.parent ? this.parent.regY * this.parent.originalHeight : 0;\n            thisOffsetX = this.regX * this.originalWidth;\n            thisOffsetY = this.regY * this.originalHeight;\n            translate = 'translate(' + (this.x - thisOffsetX + parentOffsetX) + 'px,' + (this.y - thisOffsetY + parentOffsetY) + 'px) ';\n            rotate = 'rotate(' + this.rotationZ + 'deg) ';\n            scale = 'scale(' + this.scaleX + ',' + this.scaleY + ') ';\n            skew = 'skew(' + this.skewX + 'deg,' + this.skewY + 'deg)';\n\n            this.css3('transform', translate + rotate + scale + skew);\n        }\n    }\n\n    touchStart(fun) {\n        this.touchStartHandler = e => {\n            const x = e['targetTouches'] ? e['targetTouches'][0].pageX : e.pageX;\n            const y = e['targetTouches'] ? e['targetTouches'][0].pageY : e.pageY;\n            fun(x, y, e);\n        }\n\n        const events = !Utils.isMobile() ? 'mousedown' : 'touchstart';\n        this.element.addEventListener(events, this.touchStartHandler);\n    }\n\n    stopTouchStart() {\n        if (this.touchStartHandler) {\n            const events = !Utils.isMobile() ? 'mousedown' : 'touchstart';\n            this.element.removeEventListener(events, this.touchStartHandler);\n            this.touchStartHandle = null;\n        }\n    }\n\n    touchMove(fun) {\n        this.touchMoveHandler = e => {\n            const x = e['targetTouches'] ? e['targetTouches'][0].pageX : e.pageX;\n            const y = e['targetTouches'] ? e['targetTouches'][0].pageY : e.pageY;\n            fun(x, y, e);\n        }\n\n        const events = !Utils.isMobile() ? 'mousemove' : 'touchmove';\n        this.element.addEventListener(events, this.touchMoveHandler);\n    }\n\n    stopTouchMove() {\n        if (this.touchMoveHandler) {\n            const events = !Utils.isMobile() ? 'mousemove' : 'touchmove';\n            this.element.removeEventListener(events, this.touchMoveHandler);\n            this.touchMoveHandler = null;\n        }\n    }\n\n    touchEnd(fun) {\n        this.touchEndHandler = e => {\n            fun(e);\n        }\n\n        const events = !Utils.isMobile() ? 'mouseup' : 'touchend';\n        this.element.addEventListener(events, this.touchEndHandler);\n    }\n\n    stopTouchEnd() {\n        if (this.touchEndHandler) {\n            const events = !Utils.isMobile() ? 'mouseup' : 'touchend';\n            this.element.removeEventListener(events, this.touchEndHandler);\n            this.touchEndHandler = null;\n        }\n    }\n\n    destroy() {\n        for (let i = 0; i < this.childrens.length; i++)\n            this.childrens[i].destroy();\n\n        Utils.destroyObject(this.childrens);\n        delete Agile.agileObjs[this.id];\n\n        this.parent = null;\n        this.filters = null;\n\n        Agile.Timeline.kill(this);\n        Agile.Tween.killTweensOf(this);\n    }\n\n    toString() {\n        return 'DisplayObject';\n    }\n}","import DisplayObject from './DisplayObject';\n\nexport default class Circle extends DisplayObject {\n\n\tconstructor(radius = 25, color = 'purple') {\n\t\tsuper();\n\n\t\tthis.radius = radius;\n\t\tthis.background(color);\n\t}\n\n\tget radius() {\n\t\treturn this._avatar.radius;\n\t}\n\n\tset radius(radius) {\n\t\tthis._avatar.radius = radius;\n\t\tthis.width = this.height = this.radius * 2;\n\t\tthis.css3('borderRadius', '50%');\n\t}\n\n\ttoString() {\n\t\treturn 'Circle';\n\t}\n}","import DisplayObject from './DisplayObject';\nimport Css from '../core/Css';\nimport Agile from '../core/Agile';\nimport IDUtils from '../utils/IDUtils';\n\nexport default class Dom extends DisplayObject {\n\n\tconstructor(dom, resetPosition) {\n\t\tsuper();\n\t\tif (dom === '3d' || dom === '2d') return;\n\n\t\tif (typeof dom === 'string')\n\t\t\tthis.element = Css.select(dom);\n\t\telse if (dom['jquery'])\n\t\t\tthis.element = dom[0];\n\t\telse\n\t\t\tthis.element = dom;\n\n\t\tconst id = Css.attr(this.element, 'id');\n\t\tthis._avatar.id = id ? id : IDUtils.generateID(this.toString());\n\n\t\tthis._avatar.width = parseFloat(this.css2('width')) || 0;\n\t\tthis._avatar.height = parseFloat(this.css2('height')) || 0;\n\t\tthis._avatar.position = this.css2('position') || 'absolute';\n\t\tthis._avatar.zIndex = this.css2('zIndex') || 0;\n\t\tthis._avatar.display = this.css2('display') || 'block';\n\t\tthis._avatar.color = this.css2('backgroundColor');\n\t\tthis._avatar.backgroundImage = this.css2('backgroundImage');\n\t\tthis._avatar.alpha = this.css2('opacity') === '' || this.css2('opacity') === undefined ? 1 : this.css2('opacity');\n\n\t\tif (this._avatar.display !== 'none') this._avatar.defalutDisplay = this._avatar.display;\n\n\t\tthis.transform();\n\n\t\tAgile.agileObjs[this.id] = this;\n\t\tif (resetPosition) this.resetPosition();\n\t}\n\n\tcreateElement() {\n\t\t// null\n\t}\n\n\tresetPosition() {\n\t\tthis.originalWidth = this.width;\n\t\tthis.originalHeight = this.height;\n\t}\n\n\tget visible() {\n\t\treturn this._avatar.visible;\n\t}\n\n\tset visible(visible) {\n\t\tthis._avatar.visible = visible;\n\t\tconst defalutDisplay = this._avatar.defalutDisplay ? this._avatar.defalutDisplay : 'block';\n\t\tconst vis = visible ? defalutDisplay : 'none';\n\t\tthis.css2('display', vis);\n\t}\n\n\ttoString() {\n\t\treturn 'Dom';\n\t}\n}","import Css from '../core/Css';\nimport Agile from '../core/Agile';\nimport Utils from '../utils/Utils';\nimport IDUtils from '../utils/IDUtils';\nimport Dom from './Dom';\n\nexport default class Container extends Dom {\n\n\tconstructor(dom = '2d', mode = '2d') {\n\t\tsuper(dom);\n\n\t\tif (dom && dom !== '3d' && dom !== '2d') {\n\t\t\tthis._avatar.dom = dom;\n\t\t}\n\n\t\tthis._avatar.mode = '2d';\n\t\tthis._avatar.regX = Utils.getCssValue(this, 'transformOrigin', 0, 3) || .5;\n\t\tthis._avatar.regY = Utils.getCssValue(this, 'transformOrigin', 1, 3) || .5;\n\n\t\tthis._avatar.perspectiveOriginX = .5;\n\t\tthis._avatar.perspectiveOriginY = .5;\n\t\tthis._avatar.perspectiveOriginZ = 0;\n\n\t\tif (dom === '3d' || mode === '3d')\n\t\t\tthis.mode = '3d';\n\t\telse\n\t\t\tthis.mode = '2d';\n\n\t\tAgile.containers.push(this);\n\t}\n\n\tcreateElement() {\n\t\tif (this.dom) return this.dom;\n\n\t\tthis._avatar.id = IDUtils.generateID(this.toString());\n\t\tthis.element = Css.createElement();\n\t\tCss.attr(this.element, 'id', this._avatar.id);\n\t}\n\n\tget mode() {\n\t\treturn this._avatar.mode;\n\t}\n\n\tset mode(mode) {\n\t\tthis._avatar.mode = mode;\n\t\tmode = mode === '2d' ? 'flat' : 'preserve-3d';\n\t\tthis.css3('transformStyle', mode);\n\t}\n\n\tget perspective() {\n\t\treturn this._avatar.perspective;\n\t}\n\n\tset perspective(perspective) {\n\t\tthis._avatar.perspective = perspective;\n\t\tthis.css3('perspective', perspective + 'px');\n\t}\n\n\tget perspectiveOriginX() {\n\t\treturn this._avatar.perspectiveOriginX;\n\t}\n\n\tset perspectiveOriginX(perspectiveOriginX) {\n\t\tthis._avatar.perspectiveOriginX = perspectiveOriginX;\n\t\tconst ox = this.perspectiveOriginX * 100 + '%';\n\t\tconst oy = this.perspectiveOriginY * 100 + '%';\n\n\t\tthis.css3('perspectiveOrigin', ox + ' ' + oy);\n\t}\n\n\tget perspectiveOriginY() {\n\t\treturn this._avatar.perspectiveOriginY;\n\t}\n\n\tset perspectiveOriginY(perspectiveOriginY) {\n\t\tthis._avatar.perspectiveOriginY = perspectiveOriginY;\n\t\tconst ox = this.perspectiveOriginX * 100 + '%';\n\t\tconst oy = this.perspectiveOriginY * 100 + '%';\n\n\t\tthis.css3('perspectiveOrigin', ox + ' ' + oy);\n\t}\n\n\tget perspectiveOriginZ() {\n\t\treturn this._avatar.perspectiveOriginZ;\n\t}\n\n\tset perspectiveOriginZ(perspectiveOriginZ) {\n\t\tthis._avatar.perspectiveOriginZ = perspectiveOriginZ;\n\t\tconst ox = this.perspectiveOriginX * 100 + '%';\n\t\tconst oy = this.perspectiveOriginY * 100 + '%';\n\t\tconst oz = this.perspectiveOriginZ + 'px';\n\n\t\tthis.css3('perspectiveOrigin', ox + ' ' + oy + ' ' + oz);\n\t}\n\n\taddChild(obj) {\n\t\tsuper.addChild(obj);\n\t\tobj.backface = this.backface;\n\n\t\tif (Agile.backface === false) obj.backface = false;\n\t}\n\n\ttoString() {\n\t\treturn 'Container';\n\t}\n\n\tdestroy() {\n\t\tsuper.destroy();\n\t\tUtils.arrayRemove(Agile.containers, this);\n\t}\n}","import DisplayObject from './DisplayObject';\n\nexport default class Ellipse extends DisplayObject {\n\n\tconstructor(radiusX = 50, radiusY = 25, color = 'purple') {\n\t\tsuper();\n\n\t\tthis.radiusX = radiusX;\n\t\tthis.radiusY = radiusY;\n\n\t\tthis.background(color);\n\t\tthis.x = this.y = 0;\n\t}\n\n\tget radiusX() {\n\t\treturn this._avatar.radiusX;\n\t}\n\n\tset radiusX(radiusX) {\n\t\tthis._avatar.radiusX = radiusX;\n\t\tthis.width = this.radiusX * 2;\n\t\tthis.css3('borderRadius', this.radiusX + 'px' + ' / ' + this.radiusY + 'px');\n\t}\n\n\tget radiusY() {\n\t\treturn this._avatar.radiusY;\n\t}\n\n\tset radiusY(radiusY) {\n\t\tthis._avatar.radiusY = radiusY;\n\t\tthis.height = this.radiusY * 2;\n\t\tthis.css3('borderRadius', this.radiusX + 'px' + ' / ' + this.radiusY + 'px');\n\t}\n\n\ttoString() {\n\t\treturn 'Ellipse';\n\t}\n}","const array = [];\n\nexport default class EventDispatcher {\n\n\tconstructor() {\n\t\tthis._listeners = null;\n\t}\n\n\taddEventListener(type, listener) {\n\t\tif (!this._listeners) this._listeners = {};\n\t\tif (this._listeners[type] === undefined) this._listeners[type] = [];\n\t\tif (this._listeners[type].indexOf(listener) === -1) this._listeners[type].push(listener);\n\t}\n\n\tremoveEventListener(type, listener) {\n\t\tif (!this._listeners) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[type];\n\n\t\tif (listenerArray !== undefined) {\n\t\t\tconst index = listenerArray.indexOf(listener);\n\t\t\tif (index !== -1) listenerArray.splice(index, 1);\n\t\t}\n\t}\n\n\tdispatchEvent(event) {\n\t\tif (!this._listeners) return;\n\n\t\tarray.length = 0;\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[event.type];\n\n\t\tif (listenerArray !== undefined) {\n\t\t\tevent.target = this;\n\n\t\t\tfor (let i = 0; i < listenerArray.length; i++)\n\t\t\t\tarray[i] = listenerArray[i];\n\n\t\t\tfor (let i = 0; i < listenerArray.length; i++)\n\t\t\t\tarray[i].call(this, event);\n\t\t}\n\t}\n}","import EventDispatcher from '../event/EventDispatcher';\nimport Utils from './Utils';\nimport Agile from '../core/Agile';\nimport Css from '../core/Css';\n\nconst imageBuffer = {};\n\nexport default class LoadManager extends EventDispatcher {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._urls = [];\n\t\tthis._loaderList = [];\n\t\tthis._targetList = {};\n\t\tthis._fileSize = [];\n\t\tthis._totalSize = 0;\n\n\t\tthis.index = 0;\n\t\tthis.loadIndex = 0;\n\t\tthis.loaded = false;\n\t\tthis.baseURL = '';\n\t\tthis.parallel = 4;\n\n\t\tthis.completeHandler = this.completeHandler.bind(this);\n\t\tthis.ioErrorHandler = this.ioErrorHandler.bind(this);\n\t}\n\n\tioErrorHandler(e) {\n\t\tthis.loadIndex++;\n\t\tthis._targetList.push(null);\n\n\t\tthis.dispatchEvent({ type: Agile.LOAD_ERROR });\n\t\tthis.checkLoaded();\n\t\tthis.singleLoad();\n\t}\n\n\tcompleteHandler(e) {\n\t\tconst num = Css.attr(e.target, 'data-index');\n\t\tconst targetList = this._targetList;\n\t\tconst loaderList = this._loaderList;\n\t\tconst img = loaderList[num];\n\n\t\tfor (let index in targetList) {\n\t\t\tif (Css.attr(img, 'data-url') === targetList[index]) targetList[index] = img;\n\t\t}\n\n\t\tthis.loadIndex++;\n\t\tthis.dispatchEvent({ type: Agile.SINGLE_LOADED });\n\t\tthis.checkLoaded();\n\t\tthis.singleLoad();\n\t}\n\n\tcheckLoaded() {\n\t\tif (this.loadIndex >= this._urls.length && !this.loaded) {\n\t\t\tthis.loaded = true;\n\t\t\tthis.dispatchEvent({ type: Agile.GROUP_LOADED });\n\t\t}\n\t}\n\n\tstatic getImage(img, callback) {\n\t\tif (typeof img === 'string') {\n\t\t\tif (imageBuffer[img]) {\n\t\t\t\tcallback(imageBuffer[img]);\n\t\t\t} else {\n\t\t\t\tconst myImage = new Image();\n\t\t\t\tmyImage.onload = e => {\n\t\t\t\t\timageBuffer[img] = myImage;\n\t\t\t\t\tcallback(imageBuffer[img]);\n\t\t\t\t}\n\t\t\t\tmyImage.src = img;\n\t\t\t}\n\n\t\t\treturn img;\n\t\t} else if (typeof img === 'object') {\n\t\t\timageBuffer[img.src] = img;\n\t\t\tcallback(imageBuffer[img.src]);\n\n\t\t\treturn img.src;\n\t\t}\n\t}\n\n\tget loadScale() {\n\t\treturn this.loadIndex / this._urls.length;\n\t}\n\n\tget targetList() {\n\t\treturn this._targetList;\n\t}\n\n\tget loaderList() {\n\t\treturn this._loaderList;\n\t}\n\n\tset fileSize(size) {\n\t\tthis._fileSize = size;\n\t\tthis._totalSize = 0;\n\n\t\tfor (let i = 0; i < this._fileSize.length; i++) {\n\t\t\tthis._totalSize += this._fileSize[i];\n\t\t}\n\t}\n\n\tload(...rest) {\n\t\tlet index = 0;\n\t\tfor (let i = 0; i < rest.length; i++) {\n\t\t\tlet url = rest[i];\n\n\t\t\tif (typeof url === 'string') {\n\t\t\t\tthis._targetList[`${index}`] = url;\n\t\t\t\tthis._urls.push(url);\n\n\t\t\t\tindex++;\n\t\t\t} else if (Utils.isArray(url)) {\n\t\t\t\tfor (let j = 0; j < url.length; j++) {\n\t\t\t\t\tthis._targetList[`${index}`] = url[j];\n\t\t\t\t\tthis._urls.push(url[j]);\n\n\t\t\t\t\tindex++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (let index in url) {\n\t\t\t\t\tthis._targetList[index] = url[index];\n\t\t\t\t\tthis._urls.push(url[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst length = Math.min(this.parallel, this._urls.length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tthis.singleLoad();\n\t\t}\n\t}\n\n\tsingleLoad() {\n\t\tif (this.loaded) return;\n\t\tif (this.index >= this._urls.length) return;\n\n\t\tconst url = String(this._urls[this.index]);\n\t\tconst image = new Image();\n\n\t\timage.onerror = this.ioErrorHandler;\n\t\timage.onload = this.completeHandler;\n\t\timage.src = this.baseURL + url;\n\t\tCss.attr(image, 'data-url', url);\n\t\tCss.attr(image, 'data-index', this.index);\n\n\t\tthis.index++;\n\t\tthis._loaderList.push(image);\n\t}\n}","import DisplayObject from './DisplayObject';\nimport LoadManager from '../utils/LoadManager';\nimport Agile from '../core/Agile';\n\nexport default class AgileImage extends DisplayObject {\n\n\tconstructor(image, width, height) {\n\t\tsuper();\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.delayEventTime = 5;\n\n\t\tif (image) {\n\t\t\tif (typeof image === 'string') {\n\t\t\t\tconst reg = new RegExp('ftp|http|png|jpg|jpeg|gif');\n\t\t\t\tif (reg.test(image))\n\t\t\t\t\tthis.image = image;\n\t\t\t\telse\n\t\t\t\t\tthis.setClassImage(image);\n\t\t\t} else {\n\t\t\t\tthis.image = image;\n\t\t\t}\n\t\t}\n\n\t\tif (width) this.width = width;\n\t\tif (height) this.height = height;\n\t}\n\n\tsetClassImage(className) {\n\t\tthis.addClass(className);\n\t\tthis.dispatchImageLoadedEvent(() => {\n\t\t\tthis.width = parseFloat(this.css2('width')) || 0;\n\t\t\tthis.height = parseFloat(this.css2('height')) || 0;\n\t\t\tthis._avatar.backgroundImage = this.css2('backgroundImage');\n\t\t});\n\t}\n\n\tget originalWidth() {\n\t\treturn this._avatar.originalWidth;\n\t}\n\n\tset originalWidth(originalWidth) {\n\t\tthis._avatar.originalWidth = originalWidth;\n\t\tthis.css2('width', this.originalWidth + 'px');\n\t\tthis.widthSize = true;\n\t}\n\n\tget originalHeight() {\n\t\treturn this._avatar.originalHeight;\n\t}\n\n\tset originalHeight(originalHeight) {\n\t\tthis._avatar.originalHeight = originalHeight;\n\t\tthis.css2('height', this.originalHeight + 'px');\n\t\tthis.widthSize = true;\n\t}\n\n\tget image() {\n\t\treturn this._avatar.image;\n\t}\n\n\tset image(image) {\n\t\tthis.loaded = false;\n\t\tthis._avatar.image = LoadManager.getImage(image, (imgObj) => {\n\t\t\tif (!this.widthSize) {\n\t\t\t\tthis._avatar.width = imgObj.width;\n\t\t\t\tthis._avatar.originalWidth = imgObj.width;\n\t\t\t\tthis.css2('width', imgObj.width + 'px');\n\t\t\t}\n\n\t\t\tif (!this.heightSize) {\n\t\t\t\tthis._avatar.height = imgObj.height;\n\t\t\t\tthis._avatar.originalHeight = imgObj.height;\n\t\t\t\tthis.css2('height', imgObj.height + 'px');\n\t\t\t}\n\n\t\t\tthis.backgroundImage = imgObj.src;\n\t\t\tthis.transform();\n\t\t\tthis.dispatchImageLoadedEvent();\n\t\t});\n\t}\n\n\tdispatchImageLoadedEvent(fun) {\n\t\tsetTimeout(() => {\n\t\t\tif (fun) fun();\n\n\t\t\tlet customEvent;\n\t\t\ttry {\n\t\t\t\tcustomEvent = document.createEvent('CustomEvent');\n\t\t\t\tcustomEvent.initCustomEvent(Agile.IMAGE_LOADED, false, false);\n\t\t\t\tthis.element.dispatchEvent(customEvent);\n\t\t\t} catch (e) {\n\t\t\t\tcustomEvent = document.createEvent('HTMLEvents');\n\t\t\t\tcustomEvent.initEvent(Agile.IMAGE_LOADED, false, false);\n\t\t\t\tthis.element.dispatchEvent(customEvent);\n\t\t\t}\n\n\t\t\tthis.loaded = true;\n\t\t}, this.delayEventTime);\n\t}\n\n\ttoString() {\n\t\treturn 'AgileImage';\n\t}\n}","import Css from '../core/Css';\nimport Agile from '../core/Agile';\nimport DisplayObject from './DisplayObject';\n\nexport default class Line extends DisplayObject {\n\tconstructor(size = 3, color = 'blue') {\n\t\tsuper();\n\n\t\tthis.regX = 0;\n\t\tthis.regY = 0;\n\t\tthis._avatar.fromX = 0;\n\t\tthis._avatar.fromY = 0;\n\t\tthis.size = size;\n\t\tthis.color = color;\n\n\t\tthis.x = this.y = 0;\n\t\tthis.lines = [];\n\t}\n\n\tget color() {\n\t\treturn this._avatar.color;\n\t}\n\tset color(color) {\n\t\tthis._avatar.color = color;\n\t}\n\n\tget size() {\n\t\treturn this._avatar.size;\n\t}\n\tset size(size) {\n\t\tthis._avatar.size = size;\n\t}\n\n\tmoveTo(x, y) {\n\t\tthis._avatar.fromX = x;\n\t\tthis._avatar.fromY = y;\n\t}\n\n\tlineTo(x, y) {\n\t\tconst x1 = this._avatar.fromX;\n\t\tconst y1 = this._avatar.fromY;\n\n\t\tconst length = Math.sqrt((x1 - x) * (x1 - x) + (y1 - y) * (y1 - y));\n\t\tconst angle = Math.atan2(y - y1, x - x1) * 180 / Math.PI;\n\t\tconst line = Css.createElement();\n\n\t\tCss.css(line, {\n\t\t\t'backgroundColor': this.color,\n\t\t\t'width': length + 'px',\n\t\t\t'height': this.size + 'px',\n\t\t\t'position': 'absolute'\n\t\t});\n\n\t\tlet translate, rotate;\n\t\tif (Agile.mode === '3d') {\n\t\t\ttranslate = `translate3d(${this._avatar.fromX}px,${this._avatar.fromY}px,0px) `;\n\t\t\trotate = `rotateZ(${angle}deg)`;\n\t\t} else {\n\t\t\ttranslate = `translate(${this._avatar.fromX}px,${this._avatar.fromY}px) `;\n\t\t\trotate = `rotate(${angle}deg)`;\n\t\t}\n\n\t\tCss.css3(line, 'transformOrigin', 'left center');\n\t\tCss.css3(line, 'transform', translate + rotate);\n\t\tthis.element.appendChild(line);\n\n\t\tthis._avatar.fromX = x;\n\t\tthis._avatar.fromY = y;\n\t\tthis._avatar.width = Math.max(x, this._avatar.width);\n\t\tthis._avatar.height = Math.max(y, this._avatar.height);\n\n\t\tthis.css2('width', this.width + 'px');\n\t\tthis.css2('height', this.height + 'px');\n\t\tthis.lines.push(line);\n\n\t\treturn line;\n\t}\n\n\tcurveTo(x, y, s = 0.5) {\n\t\tconst x1 = this._avatar.fromX;\n\t\tconst y1 = this._avatar.fromY;\n\n\t\tlet length = Math.sqrt((x1 - x) * (x1 - x) + (y1 - y) * (y1 - y));\n\t\tlet tha = Math.PI / 4;\n\t\tlength /= .707;\n\t\tlength -= 4 * this.size;\n\n\t\tconst angle = Math.atan2(y - y1, x - x1) * 180 / Math.PI;\n\t\tconst line = Css.createElement();\n\t\tconst w = length;\n\t\tconst h = length;\n\t\tconst size = Math.max(Math.abs(this.size / s), 1);\n\n\t\tCss.css(line, {\n\t\t\t'width': w + 'px',\n\t\t\t'height': h + 'px',\n\t\t\t'position': 'absolute'\n\t\t});\n\n\t\tCss.css(line, {\n\t\t\t'borderStyle': 'solid',\n\t\t\t'borderTopColor': this.color,\n\t\t\t'borderRightColor': 'transparent',\n\t\t\t'borderLeftColor': 'transparent',\n\t\t\t'borderBottomColor': 'transparent',\n\t\t\t'borderWidth': size + 'px'\n\t\t}, 3);\n\n\t\tconst offsetX = w / 2 * (1 - Math.cos(tha));\n\t\tconst offsetY = h / 2 * (1 - Math.sin(tha));\n\n\t\tlet translate, rotate, scale;\n\t\tif (Agile.mode === '3d') {\n\t\t\ttranslate = 'translate3d(' + (this._avatar.fromX - offsetX) + 'px,' + (this._avatar.fromY - offsetY) + 'px,0px) ';\n\t\t\trotate = 'rotateZ(' + angle + 'deg) ';\n\t\t\tscale = 'scale3d(1,' + s + ',1)';\n\t\t} else {\n\t\t\ttranslate = 'translate(' + (this._avatar.fromX - offsetX) + 'px,' + (this._avatar.fromY - offsetY) + 'px) ';\n\t\t\trotate = 'rotate(' + angle + 'deg)';\n\t\t\tscale = 'scale(1,' + s + ')';\n\t\t}\n\n\t\tCss.css3(line, 'transformOrigin', offsetX * 100 / w + '% ' + offsetY * 100 / w + '%');\n\t\tCss.css3(line, 'transform', translate + rotate + scale);\n\t\tCss.css3(line, 'borderRadius', '50% 50%');\n\t\tthis.element.appendChild(line);\n\n\t\tthis._avatar.fromX = x;\n\t\tthis._avatar.fromY = y;\n\t\tthis._avatar.width = Math.max(x, this._avatar.width);\n\t\tthis._avatar.height = Math.max(y, this._avatar.height);\n\n\t\tthis.css2('width', this.width + 'px');\n\t\tthis.css2('height', this.height + 'px');\n\t\tthis.lines.push(line);\n\n\t\treturn line;\n\t}\n\n\tclear() {\n\t\tfor (var i = 0, length = this.lines.length; i < length; i++) {\n\t\t\tthis.element.removeChild(this.lines[i]);\n\t\t\tthis.lines[i] = null;\n\t\t}\n\n\t\tthis.lines.length = 0;\n\t}\n\n\ttoString() {\n\t\treturn 'Line';\n\t}\n}","import Utils from './Utils';\n\nexport default {\n\tobject2Json(obj) {\n\t\tlet t = typeof (obj);\n\n\t\tif (t !== 'object' || obj === null) {\n\t\t\tif (t === 'string') obj = '' + obj + '';\n\t\t\treturn String(obj);\n\t\t} else {\n\t\t\tlet n, v;\n\t\t\tconst json = [];\n\t\t\tconst isArr = Utils.isArray(obj);\n\n\t\t\tfor (n in obj) {\n\t\t\t\tv = obj[n];\n\t\t\t\tt = typeof (v);\n\t\t\t\tif (t === 'string') {\n\t\t\t\t\t// v = ''' + v + ''';\n\t\t\t\t} else {\n\t\t\t\t\tif (t === 'object' && v !== null) {\n\t\t\t\t\t\tv = this.object2Json(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tjson.push((isArr ? '' : '' + n + ':') + String(v));\n\t\t\t}\n\t\t\tlet j = json.join('; ');\n\n\t\t\treturn (isArr ? '[' : '{') + j + (isArr ? ']' : '}');\n\t\t}\n\t},\n\n\tobject2String(obj) {\n\t\tlet str = '';\n\t\tfor (let index in obj)\n\t\t\tstr += obj[index] + ', ';\n\n\t\tstr = str.substr(0, str.length - 2);\n\t\treturn str;\n\t},\n\n\treplaceChart(json) {\n\t\treturn json\n\t\t\t.replace(new RegExp('%:', 'g'), '%')\n\t\t\t.replace(new RegExp('};', 'g'), '}');\n\t}\n}","import IDUtils from '../utils/IDUtils';\nimport Utils from '../utils/Utils';\nimport Color from '../utils/Color';\n\nexport default class Keyframes {\n\tconstructor(...rest) {\n\t\tthis.keyframes = { '100%': {} };\n\n\t\tthis.label = IDUtils.generateID(this.toString());\n\t\tthis.add.apply(this, rest);\n\t}\n\n\t/*\n\t * myKeyframes.add({time:15, color:'#000', x:2}, {time:25, color:'#fff'});\n\t * myKeyframes.add(30, { color: '#ccc' });\n\t * myKeyframes.add(60, alpha, 0);\n\t * myKeyframes.add('20%', alpha, 1);\n\t */\n\tadd(...rest) {\n\t\tif (!rest.length) return;\n\n\t\tif (typeof rest[0] === 'object') {\n\t\t\tconst keyframe = rest[0];\n\n\t\t\tfor (let key in keyframe) {\n\t\t\t\tconst timevalue = keyframe[key];\n\t\t\t\tlet time;\n\n\t\t\t\tif (Utils.isNumber(key)) {\n\t\t\t\t\ttime = key + '%';\n\t\t\t\t} else {\n\t\t\t\t\ttime = key.indexOf('%') > -1 ? key : key + '%';\n\t\t\t\t}\n\n\t\t\t\tdelete keyframe[`${key}`];\n\t\t\t\tkeyframe[time] = timevalue;\n\t\t\t\tthis.setColor(keyframe[time]);\n\t\t\t}\n\n\t\t\tObject.assign(this.keyframes, keyframe);\n\t\t} else {\n\t\t\tlet time = Utils.isNumber(rest[0]) ? rest[0] + '%' : rest[0];\n\t\t\tlet keyframe = {};\n\t\t\tlet style;\n\t\t\tlet value;\n\n\t\t\tif (rest.length === 3) {\n\t\t\t\tstyle = rest[1];\n\t\t\t\tvalue = rest[2];\n\n\t\t\t\tkeyframe[time] = {};\n\t\t\t\tkeyframe[time][style] = value;\n\t\t\t} else {\n\t\t\t\tvalue = rest[1];\n\t\t\t\tkeyframe[time] = value;\n\t\t\t}\n\n\t\t\tthis.setColor(keyframe[time]);\n\t\t\tObject.assign(this.keyframes, keyframe);\n\t\t}\n\n\t\tthis.fill();\n\t}\n\n\tget(time) {\n\t\tif (Utils.isNumber(time)) time = time + '%';\n\t\treturn this.keyframes[time];\n\t}\n\n\tremove(time) {\n\t\ttime = Utils.isNumber(time) ? time + '%' : time;\n\t\tif (time)\n\t\t\tdelete this.keyframes[time];\n\t\telse\n\t\t\tthis.destroy();\n\t}\n\n\tfill() {\n\t\tthis.sort();\n\t\tlet prevValue;\n\n\t\tfor (let time in this.keyframes) {\n\t\t\tconst frame = this.keyframes[time];\n\n\t\t\tfor (let key in prevValue) {\n\t\t\t\tif (frame[key] === undefined) frame[key] = prevValue[key];\n\t\t\t}\n\n\t\t\tprevValue = frame;\n\t\t}\n\t}\n\n\tsort() {\n\t\tconst cloneObj = {};\n\t\tconst keys = Utils.keys(this.keyframes);\n\t\tkeys.sort((a, b) => parseFloat(a) - parseFloat(b));\n\n\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\tlet k = keys[i];\n\t\t\tcloneObj[k] = this.keyframes[k];\n\t\t}\n\n\t\tthis.keyframes = cloneObj;\n\t\treturn this.keyframes;\n\t}\n\n\tmerge() {\n\t\tconst obj = {};\n\n\t\tfor (let time in this.keyframes) {\n\t\t\tfor (let key in this.keyframes[time])\n\t\t\t\tobj[key] = this.keyframes[time][key];\n\t\t}\n\n\t\treturn obj;\n\t}\n\n\tsetColor(obj) {\n\t\tif (obj.color) {\n\t\t\tif (obj.color === 'random') obj.color = Color.randomColor();\n\t\t}\n\t}\n\n\tdestroy() {\n\t\tUtils.destroyObject(this.keyframes);\n\t}\n\n\ttoString() {\n\t\treturn 'Keyframes';\n\t}\n}","import DisplayObject from '../display/DisplayObject';\n\nexport default class Avatar extends DisplayObject {\n\tconstructor(width = 50, height, color = 'blur') {\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height || this.width;\n\n\t\tthis.background(color);\n\t\tthis.x = this.y = 0;\n\n\t\tthis.parent = {\n\t\t\toriginalWidth: 0,\n\t\t\toriginalHeight: 0,\n\t\t\tregX: 0,\n\t\t\tregY: 0\n\t\t};\n\t}\n\n\tclearStyle() {\n\t\tthis.css3('transform', '');\n\t\tthis.element.style.cssText = '';\n\t\tthis.element.style = '';\n\t}\n\n\tcopyParent(parent) {\n\t\tthis.parent.regX = parent.regX;\n\t\tthis.parent.regY = parent.regY;\n\t\tthis.parent.originalWidth = parent.originalWidth;\n\t\tthis.parent.originalHeight = parent.originalHeight;\n\t}\n\n\tcopySelf(self, copyAll) {\n\t\tthis.regX = self.regX;\n\t\tthis.regY = self.regY;\n\t\tthis.originalWidth = self.originalWidth;\n\t\tthis.originalHeight = self.originalHeight;\n\n\t\tif (self.parent) this.copyParent(self.parent);\n\n\t\tif (copyAll) {\n\t\t\tthis.x = self.x;\n\t\t\tthis.y = self.y;\n\t\t\tthis.z = self.z;\n\n\t\t\tthis.scaleX = self.scaleX;\n\t\t\tthis.scaleY = self.scaleY;\n\t\t\tthis.scaleZ = self.scaleZ;\n\n\t\t\tthis.rotation = self.rotation;\n\t\t\tthis.rotationX = self.rotationX;\n\t\t\tthis.rotationY = self.rotationY;\n\t\t\tthis.rotationZ = self.rotationZ;\n\n\t\t\tthis.skewX = self.skewX;\n\t\t\tthis.skewY = self.skewY;\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn 'Avatar';\n\t}\n}","import DisplayObject from './DisplayObject';\n\nexport default class Text extends DisplayObject {\n\tconstructor(text = '', size = 18, align = 'left', color = '#000') {\n\t\tsuper();\n\n\t\tthis.text = text;\n\t\tthis.size = size;\n\t\tthis.color = color;\n\t\tthis.align = align;\n\t\tthis.x = this.y = 0;\n\t\tthis.regX = this.regY = 0;\n\t}\n\n\tget height() {\n\t\treturn parseFloat(this.css2('height')) || 0;\n\t}\n\n\tset height(height) {\n\t\tthis._avatar.height = height;\n\n\t\tif (!this.originalHeight)\n\t\t\tthis.originalHeight = height;\n\t\telse\n\t\t\tthis.scaleY = this.height / this.originalHeight;\n\t}\n\n\tget width() {\n\t\treturn parseFloat(this.css2('width')) || 0;\n\t}\n\n\tset width(width) {\n\t\tthis._avatar.width = width;\n\t\tif (!this.originalWidth)\n\t\t\tthis.originalWidth = width;\n\t\telse\n\t\t\tthis.scaleX = this.width / this.originalWidth;\n\t}\n\n\tset text(text) {\n\t\tthis._avatar.text = text;\n\t\tif (typeof this.element.textContent === 'string') {\n\t\t\tthis.element.textContent = this.text;\n\t\t} else {\n\t\t\tthis.element.innerText = this.text;\n\t\t}\n\t}\n\tget text() {\n\t\treturn this._avatar.text;\n\t}\n\n\tset htmlText(htmlText) {\n\t\tthis._avatar.text = htmlText;\n\t\tthis.element.innerHTML = this.htmlText;\n\t}\n\tget htmlText() {\n\t\treturn this._avatar.text;\n\t}\n\n\tset align(align) {\n\t\tthis._avatar.align = align;\n\t\tthis.css2('textAlign', this.align);\n\t}\n\tget align() {\n\t\treturn this._avatar.align;\n\t}\n\n\tset color(color) {\n\t\tthis._avatar.color = color;\n\t\tthis.css2('color', this.color);\n\t}\n\tget color() {\n\t\treturn this._avatar.color;\n\t}\n\n\tset size(size) {\n\t\tthis._avatar.size = size;\n\t\tthis.css2('fontSize', this.size + 'px');\n\t}\n\tget size() {\n\t\treturn this._avatar.size;\n\t}\n\n\tset font(font) {\n\t\tthis._avatar.font = font;\n\t\tthis.css2('fontFamily', this.font);\n\t}\n\tget font() {\n\t\treturn this._avatar.font;\n\t}\n\n\tset weight(weight) {\n\t\tthis._avatar.weight = weight;\n\t\tthis.css2('fontWeight', this.weight);\n\t}\n\tget weight() {\n\t\treturn this._avatar.weight;\n\t}\n\n\tset smooth(smooth) {\n\t\tif (smooth)\n\t\t\tthis.css3('fontSmoothing', 'antialiased !important');\n\t\telse\n\t\t\tthis.css3('fontSmoothing', null);\n\t}\n\n\ttoString() {\n\t\treturn 'Text';\n\t}\n}","import Avatar from './Avatar';\nimport Agile from '../core/Agile';\nimport Css from '../core/Css';\nimport Keyframes from './Keyframes';\nimport Text from '../display/Text';\nimport Utils from '../utils/Utils';\nimport JsonUtils from '../utils/JsonUtils';\n\nexport default {\n\tindex: 0,\n\tcallbacks: {},\n\tcurrentTime: 0,\n\tnextTween: [],\n\treplace: false,\n\tremove: true,\n\n\tget avatar() {\n\t\tif (!this.avatarmc) this.avatarmc = new Avatar(1, 1);\n\t\treturn this.avatarmc;\n\t},\n\n\taddFrame(agile, duration, frameObj, paramsObj) {\n\t\tlet keyframe;\n\n\t\tif (frameObj instanceof Keyframes) {\n\t\t\tif (!paramsObj) paramsObj = {};\n\n\t\t\tthis.insertKeyframes(agile, frameObj, paramsObj['replace']);\n\t\t\tthis.apply(agile, duration, frameObj, paramsObj);\n\t\t} else if (typeof frameObj === 'object') {\n\t\t\tif (frameObj.hasOwnProperty('frame'))\n\t\t\t\tkeyframe = frameObj['frame'];\n\t\t\telse\n\t\t\t\tkeyframe = paramsObj;\n\n\t\t\tthis.insertKeyframes(agile, keyframe, frameObj['replace']);\n\t\t\tthis.apply(agile, duration, keyframe, frameObj);\n\t\t}\n\n\t\treturn this.index++;\n\t},\n\n\tplayFrame(agile, duration, frameObj, paramsObj) {\n\t\tlet keyframe;\n\n\t\tif (frameObj instanceof Keyframes) {\n\t\t\tif (!paramsObj) paramsObj = {}\n\t\t\tthis.apply(agile, duration, frameObj, paramsObj);\n\t\t} else if (typeof frameObj === 'object') {\n\t\t\tif (frameObj.hasOwnProperty('frame'))\n\t\t\t\tkeyframe = frameObj['frame'];\n\t\t\telse\n\t\t\t\tkeyframe = paramsObj;\n\n\t\t\tthis.apply(agile, duration, keyframe, frameObj);\n\t\t}\n\n\t\treturn this.index++;\n\t},\n\n\tinsertKeyframes(agile, keyframes, replace) {\n\t\tif (replace || this.replace) this.removeKeyframes(agile.id + '_' + keyframes.label);\n\n\t\tconst prefix = Css.getPrefix(2);\n\t\tthis.avatar.clearStyle();\n\t\tthis.avatar.copySelf(agile, 'all');\n\n\t\tconst keys = {};\n\t\tfor (let time in keyframes.keyframes) {\n\t\t\tlet timeObj = keyframes.keyframes[time];\n\t\t\tkeys[time] = {};\n\n\t\t\tfor (let style in timeObj) {\n\t\t\t\tlet newIndex = `_${style}_`;\n\t\t\t\tlet i = Agile.keyword.search(new RegExp(newIndex, 'i'));\n\n\t\t\t\tif (i <= -1) {\n\t\t\t\t\tif (style.indexOf('-') > -1) {\n\t\t\t\t\t\tlet arr = style.split('-');\n\t\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tif (i !== 0) arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.avatar.css2(arr.join(''), timeObj[style]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.avatar.css2(style, timeObj[style]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.avatar[style] = timeObj[style];\n\t\t\t\t}\n\n\t\t\t\tswitch (style) {\n\t\t\t\t\tcase 'alpha':\n\t\t\t\t\t\tkeys[time]['opacity'] = this.avatar[style];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!(agile instanceof Text)) {\n\t\t\t\t\t\t\tkeys[time]['background-color'] = this.avatar[style];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'x':\n\t\t\t\t\tcase 'y':\n\t\t\t\t\tcase 'z':\n\t\t\t\t\tcase 'scaleX':\n\t\t\t\t\tcase 'scaleY':\n\t\t\t\t\tcase 'scaleZ':\n\t\t\t\t\tcase 'rotation':\n\t\t\t\t\tcase 'rotationX':\n\t\t\t\t\tcase 'rotationY':\n\t\t\t\t\tcase 'rotationZ':\n\t\t\t\t\tcase 'skewX':\n\t\t\t\t\tcase 'skewY':\n\t\t\t\t\tcase 'width':\n\t\t\t\t\tcase 'height':\n\t\t\t\t\t\tkeys[time][prefix + 'transform'] = this.avatar.css3('transform');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'regX':\n\t\t\t\t\tcase 'regY':\n\t\t\t\t\t\tkeys[time][prefix + 'transform-origin'] = this.avatar.css3('transformOrigin');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'originalWidth':\n\t\t\t\t\t\tkeys[time]['width'] = this.avatar.css2('width');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'originalHeight':\n\t\t\t\t\t\tkeys[time]['height'] = this.avatar.css2('height');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'round':\n\t\t\t\t\t\tkeys[time]['border-radius'] = this.avatar[style] + 'px';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tkeys[time][style] = this.avatar.css2(style);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst keyframesTag = `@${prefix}keyframes`;\n\t\tlet styles = Css.getDynamicSheet();\n\t\tlet paramsObj = JsonUtils.object2Json(keys);\n\t\tparamsObj = JsonUtils.replaceChart(paramsObj);\n\n\t\tconst css = keyframesTag + ' ' + agile.id + '_' + keyframes.label + paramsObj;\n\t\tstyles.insertRule(css, styles.cssRules.length);\n\t\tstyles = null;\n\t},\n\n\tapply(agile, duration, keyframe, paramsObj) {\n\t\tlet animation = '';\n\t\tconst label = typeof keyframe === 'string' ? keyframe : keyframe.label;\n\t\tanimation += agile.id + '_' + label + ' ';\n\t\tanimation += duration + 's ';\n\n\t\tif (paramsObj['ease'])\n\t\t\tanimation += paramsObj['ease'] + ' ';\n\t\tif (paramsObj['delay'])\n\t\t\tanimation += paramsObj['delay'] + 's ';\n\n\t\tif (paramsObj['loop']) {\n\t\t\tif (paramsObj['loop'] <= 0) paramsObj['loop'] = 'infinite';\n\t\t\tanimation += paramsObj['loop'] + ' ';\n\t\t} else if (paramsObj['repeat']) {\n\t\t\tif (paramsObj['repeat'] <= 0) paramsObj['repeat'] = 'infinite';\n\t\t\tanimation += paramsObj['repeat'] + ' ';\n\t\t}\n\n\t\tif (paramsObj['yoyo']) {\n\t\t\tif (paramsObj['yoyo'] === true) paramsObj['yoyo'] = 'alternate';\n\t\t\tif (paramsObj['yoyo'] === false) paramsObj['yoyo'] = 'normal';\n\t\t\tanimation += paramsObj['yoyo'] + ' ';\n\t\t}\n\n\t\tanimation += 'forwards';\n\n\t\tconst preTransition = Utils.isEmpty(agile.animations) ? '' : Css.css3(agile.element, 'animation') + ', ';\n\t\tagile.animations[`${this.index}`] = animation;\n\t\tanimation = preTransition + animation;\n\t\tagile.css3('animation', animation);\n\n\t\tthis.addCallback(agile);\n\n\t\tconst callback = this.callbacks[agile.id];\n\t\tcallback.sets[`${this.index}`] = keyframe.merge();\n\t\tcallback.removes[`${this.index}`] = (paramsObj['remove'] || this.remove);\n\n\t\t// add complete handler\n\t\tif (paramsObj['onComplete']) {\n\t\t\tif (paramsObj['onCompleteParams'])\n\t\t\t\tcallback.completes[`${this.index}`] = [paramsObj['onComplete'], paramsObj['onCompleteParams']];\n\t\t\telse\n\t\t\t\tcallback.completes[`${this.index}`] = [paramsObj['onComplete']];\n\t\t}\n\t},\n\n\tremoveKeyframes(frame) {\n\t\tconst keyName = typeof frame === 'string' ? frame : frame.label;\n\t\tthis.eachStyles((rule, i, styles) => {\n\t\t\tif (rule.name === keyName) styles.deleteRule(i);\n\t\t});\n\t},\n\n\tindexOf(frame) {\n\t\tlet index = -100;\n\n\t\tconst keyName = typeof frame === 'string' ? frame : frame.label;\n\t\tthis.eachStyles((rule, i) => {\n\t\t\tif (rule.name === keyName) index = 100;\n\t\t});\n\n\t\treturn index;\n\t},\n\n\teachStyles(callback) {\n\t\tconst styles = Css.getDynamicSheet();\n\t\tconst rules = styles.cssRules || styles.rules || [];\n\n\t\tfor (let i = 0; i < rules.length; i++) {\n\t\t\tconst rule = rules[i];\n\t\t\tif (rule.type === CSSRule.KEYFRAMES_RULE || rule.type === CSSRule.MOZ_KEYFRAMES_RULE || rule.type === CSSRule.WEBKIT_KEYFRAMES_RULE || rule.type === CSSRule.O_KEYFRAMES_RULE || rule.type === CSSRule.MS_KEYFRAMES_RULE) {\n\t\t\t\tcallback(rule, i, styles, rules);\n\t\t\t}\n\t\t}\n\t},\n\n\tpause(agile) {\n\t\tCss.css3(agile.element, 'animationPlayState', 'paused');\n\t},\n\n\tresume(agile) {\n\t\tCss.css3(agile.element, 'animationPlayState', 'running');\n\t},\n\n\ttoggle(agile) {\n\t\tif (Css.css3(agile.element, 'animationPlayState') === 'running')\n\t\t\tthis.pause(agile);\n\t\telse\n\t\t\tthis.resume(agile);\n\t},\n\n\tremoveFrameByIndex(agile, index) {\n\t\tindex = index + '';\n\t\tconst deleteItem = agile.animations[index];\n\n\t\tif (deleteItem) {\n\t\t\tagile.animations[index] = '0';\n\t\t\tlet animation = JsonUtils.object2String(agile.animations);\n\n\t\t\tif (Utils.replace(animation, ['0,', '0', ' '], '') === '')\n\t\t\t\tthis.removeAllFrames(agile);\n\t\t\telse\n\t\t\t\tagile.css3('animation', animation);\n\t\t}\n\n\t\treturn deleteItem;\n\t},\n\n\tremoveFrame(agile, frame, removeStyle) {\n\t\tlet timelineIndex;\n\t\tlet keyframes;\n\n\t\tif (Utils.isNumber(frame)) {\n\t\t\ttimelineIndex = frame;\n\t\t\tkeyframes = agile.animations[timelineIndex + ''];\n\t\t} else if (typeof frame === 'string') {\n\t\t\tif (frame.indexOf(agile.id) > -1)\n\t\t\t\tkeyframes = frame;\n\t\t\telse\n\t\t\t\tkeyframes = agile.id + '_' + frame;\n\n\t\t\ttimelineIndex = Utils.objectforkey(agile.animations, keyframes);\n\t\t} else {\n\t\t\tkeyframes = agile.id + '_' + frame.label;\n\t\t\ttimelineIndex = Utils.objectforkey(agile.animations, keyframes);\n\t\t}\n\n\t\tif (removeStyle) this.removeKeyframes(keyframes);\n\t\treturn this.removeFrameByIndex(agile, timelineIndex);\n\t},\n\n\tremoveFrameAfter(agile, frame, complete, removeStyle) {\n\t\tthis.getPrefixEvent();\n\t\tagile.element.addEventListener(this.animationiteration, animationiterationHandler, false);\n\n\t\tfunction animationiterationHandler(e) {\n\t\t\tthis.removeFrame(agile, frame, removeStyle);\n\t\t\tagile.element.removeEventListener(this.animationiteration, animationiterationHandler);\n\n\t\t\tcomplete && complete();\n\t\t}\n\n\t},\n\n\tremoveAllFrames(agile) {\n\t\tfor (let index in agile.animations) delete agile.animations[index];\n\t\tCss.css3(agile.element, 'animation', '');\n\t},\n\n\tkill(agile) {\n\t\tthis.removeAllFrames(agile);\n\n\t\tif (this.callbacks[agile.id]) {\n\t\t\tthis.getPrefixEvent();\n\t\t\tagile.element.removeEventListener(this.animationend, this.callbacks[agile.id].fun);\n\t\t\tdelete this.callbacks[agile.id];\n\t\t}\n\t},\n\n\tset(agile, frameObj) {\n\t\tif (!frameObj) return;\n\n\t\tfor (let style in frameObj) {\n\t\t\tlet newIndex = `_${style}_`;\n\t\t\tlet i = Agile.keyword.search(new RegExp(newIndex, 'i'));\n\n\t\t\tif (i > -1) {\n\t\t\t\tagile[style] = frameObj[style];\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (style.indexOf('-') > -1) {\n\t\t\t\tlet arr = style.split('-');\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (i !== 0) arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1);\n\t\t\t\t}\n\n\t\t\t\tagile.css2(arr.join(''), frameObj[style]);\n\t\t\t} else {\n\t\t\t\tagile.css2(style, frameObj[style]);\n\t\t\t}\n\t\t}\n\t},\n\n\taddCallback(agile) {\n\t\tif (this.callbacks[agile.id]) return this.callbacks[agile.id];\n\n\t\tthis.callbacks[agile.id] = {\n\t\t\tfun: e => {\n\t\t\t\tconst callback = this.callbacks[agile.id];\n\n\t\t\t\tfor (let index in agile.animations) {\n\t\t\t\t\tif (agile.animations[index].indexOf(e.animationName) !== 0) continue;\n\n\t\t\t\t\tthis.removeFrame(agile, index, callback.removes[index]);\n\t\t\t\t\tdelete callback.removes[index];\n\n\t\t\t\t\tthis.set(agile, callback.sets[index]);\n\t\t\t\t\tdelete callback.sets[index];\n\n\t\t\t\t\tif (callback.completes[index]) {\n\t\t\t\t\t\tif (callback.completes[index].length === 1)\n\t\t\t\t\t\t\tcallback.completes[index][0].apply(agile);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tcallback.completes[index][0].apply(agile, callback.completes[index][1]);\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdelete callback.completes[index];\n\t\t\t\t\t\t} catch (e) { }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcompletes: {},\n\t\t\tremoves: {},\n\t\t\tsets: {}\n\t\t}\n\n\t\tthis.getPrefixEvent();\n\t\tagile.element.addEventListener(this.animationend, this.callbacks[agile.id].fun, false);\n\n\t\treturn this.callbacks[agile.id];\n\t},\n\n\tgetPrefixEvent() {\n\t\tif (this.animationend) return this.animationend;\n\n\t\tconst prefix = Css.getPrefix();\n\t\tswitch (prefix) {\n\t\t\tcase 'Webkit':\n\t\t\t\tthis.animationend = 'webkitAnimationEnd';\n\t\t\t\tthis.animationiteration = 'webkitAnimationIteration';\n\t\t\t\tbreak;\n\n\t\t\tcase 'ms':\n\t\t\t\tthis.animationend = 'MSAnimationEnd';\n\t\t\t\tthis.animationiteration = 'MSAnimationIteration';\n\t\t\t\tbreak;\n\n\t\t\tcase 'O':\n\t\t\t\tthis.animationend = 'oanimationend';\n\t\t\t\tthis.animationiteration = 'oanimationiteration';\n\t\t\t\tbreak;\n\n\t\t\tcase 'Moz':\n\t\t\t\tthis.animationend = 'animationend';\n\t\t\t\tthis.animationiteration = 'animationiteration';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis.animationend = 'animationend';\n\t\t\t\tthis.animationiteration = 'animationiteration';\n\t\t}\n\n\t\treturn this.animationend;\n\t}\n}","import Image from './Image';\nimport Utils from '../utils/Utils';\nimport JsonUtils from '../utils/JsonUtils';\nimport Keyframes from '../animate/Keyframes';\nimport Timeline from '../animate/Timeline';\n\nexport default class MovieClip extends Image {\n\n\tconstructor(image, width, height, labels, speed) {\n\t\tsuper(image, width, height);\n\n\t\tthis.widthSize = true;\n\t\tthis.heightSize = true;\n\n\t\tthis._avatar.originalHeight = height;\n\t\tthis._avatar.originalWidth = width;\n\n\t\tthis._avatar.currentFrame = 1;\n\t\tif (labels) this.setLabel(labels);\n\n\t\tthis.labels = {};\n\t\tthis.speed = speed || .6;\n\t\tthis.loop = true;\n\n\t\tthis.stop();\n\t}\n\n\tget currentFrame() {\n\t\t// sorry this have a lot of bugs i am fixing\n\t\tconst props = this.labels[this.label];\n\t\tconst totalframes = props['totalframes'];\n\t\tconst w = props['width'];\n\t\tconst h = props['height'];\n\t\tlet length;\n\n\t\tif (h === 0) {\n\t\t\tlength = Utils.getCssValue(this, 'backgroundPosition', 0, 2);\n\t\t\tthis._avatar.currentFrame = length * totalframes / w;\n\t\t} else {\n\t\t\tlength = Utils.getCssValue(this, 'backgroundPosition', 1, 2);\n\t\t\tthis._avatar.currentFrame = length * totalframes / h;\n\t\t}\n\n\t\treturn this._avatar.currentFrame;\n\t}\n\n\tget label() {\n\t\treturn this._avatar.label;\n\t}\n\n\tset label(label) {\n\t\tif (this.labels[label]) {\n\t\t\tthis._avatar.label = label;\n\t\t\tconst frame = this.labels[label]['frame'];\n\t\t\tconst totalframes = this.labels[label]['totalframes'];\n\n\t\t\tif (Timeline.indexOf(frame) <= -1) Timeline.insertKeyframes(this, frame);\n\n\t\t\tconst loop = this.loop ? -1 : 0;\n\n\t\t\tTimeline.removeFrameByIndex(this, this.currentTimelineIndex);\n\t\t\tthis.currentTimelineIndex = Timeline.playFrame(this, this.speed, frame, {\n\t\t\t\tloop: loop,\n\t\t\t\tease: `steps(${totalframes})`\n\t\t\t});\n\n\t\t\tthis.totalframes = totalframes;\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tget speed() {\n\t\treturn this._avatar.speed;\n\t}\n\n\tset speed(speed) {\n\t\tthis._avatar.speed = speed;\n\n\t\tif (this.labels[this.label]) {\n\t\t\tTimeline.removeFrameByIndex(this, this.currentTimelineIndex);\n\n\t\t\tconst loop = this.loop ? -1 : 0;\n\t\t\tconst frame = this.labels[this.label]['frame'];\n\t\t\tconst totalframes = this.labels[this.label]['totalframes'];\n\t\t\tTimeline.removeFrameByIndex(this, this.currentTimelineIndex);\n\n\t\t\tthis.currentTimelineIndex = Timeline.playFrame(this, this.speed, frame, {\n\t\t\t\tloop,\n\t\t\t\tease: `steps(${totalframes})`\n\t\t\t});\n\t\t}\n\n\t\tthis.play();\n\t}\n\n\tstop() {\n\t\tthis.playing = false;\n\t\tthis.pause();\n\t}\n\n\tplay(label) {\n\t\tif (this.recordLabel) {\n\t\t\tthis.animations[this.recordLabel.index] = this.recordLabel.frame;\n\t\t\tconst animation = JsonUtils.object2String(this.animations);\n\t\t\tthis.css3('animation', animation);\n\t\t}\n\n\t\tthis.playing = true;\n\t\tthis.resume();\n\t}\n\n\tgotoAndPlay(frameNumber) {\n\t\tif (typeof frameNumber === 'string') {\n\t\t\tthis.label = frameNumber;\n\t\t} else {\n\t\t\tframeNumber--;\n\n\t\t\tconst props = this.labels[this.label];\n\t\t\tconst to = props['to'];\n\t\t\tconst totalframes = props['totalframes'];\n\t\t\tconst w = props['width'];\n\t\t\tconst h = props['height'];\n\n\t\t\tlet length;\n\t\t\tlet position;\n\n\t\t\tif (h === 0) {\n\t\t\t\tlength = w * frameNumber / totalframes;\n\t\t\t\tposition = -length + 'px ' + -to.y + 'px';\n\t\t\t} else {\n\t\t\t\tlength = h * frameNumber / totalframes;\n\t\t\t\tposition = -to.x + 'px ' + -length + 'px';\n\t\t\t}\n\n\t\t\tthis.css2('backgroundPosition', position);\n\t\t\tconst animation = JsonUtils.object2String(this.animations);\n\t\t\tthis.css3('animation', animation);\n\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tgotoAndStop(frameNumber) {\n\t\tif (typeof frameNumber === 'string') {\n\t\t\tthis.label = frameNumber;\n\t\t} else {\n\t\t\tframeNumber--;\n\n\t\t\tconst props = this.labels[this.label];\n\t\t\tconst to = props['to'];\n\t\t\tconst totalframes = props['totalframes'];\n\t\t\tconst w = props['width'];\n\t\t\tconst h = props['height'];\n\n\t\t\tlet length;\n\t\t\tlet position;\n\n\t\t\tif (h === 0) {\n\t\t\t\tlength = w * frameNumber / totalframes;\n\t\t\t\tposition = -length + 'px ' + -to.y + 'px';\n\t\t\t} else {\n\t\t\t\tlength = h * frameNumber / totalframes;\n\t\t\t\tposition = -to.x + 'px ' + -length + 'px';\n\t\t\t}\n\n\t\t\tthis.css2('backgroundPosition', position);\n\t\t\tconst frame = Timeline.removeFrameByIndex(this, this.currentTimelineIndex);\n\n\t\t\tthis.recordLabel = {\n\t\t\t\tframe,\n\t\t\t\tindex: this.currentTimelineIndex\n\t\t\t};\n\t\t}\n\t}\n\n\tsetLabel(label, from, to, totalframes) {\n\t\tif (typeof label === 'object') {\n\t\t\tlet frome;\n\t\t\tlet to;\n\t\t\tlet frame;\n\t\t\tlet l;\n\n\t\t\tif (label['from'] && label['to']) {\n\t\t\t\tfrome = label['from'];\n\t\t\t\tto = label['to'];\n\t\t\t\tl = label['label'];\n\t\t\t\tframe = label['totalframes'];\n\n\t\t\t\treturn this.setLabel(l, frome, to, frame);\n\t\t\t} else {\n\t\t\t\tfor (let l in label) {\n\t\t\t\t\tfrome = label[l]['from'];\n\t\t\t\t\tto = label[l]['to'];\n\t\t\t\t\tframe = label[l]['totalframes'];\n\n\t\t\t\t\treturn this.setLabel(l, frome, to, frame);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.labels[label] = this.makeFrame(from, to, totalframes);\n\t\t\tthis.label = label;\n\t\t}\n\n\t\treturn this.labels[label];\n\t}\n\n\tmakeFrame(from, to, totalframes) {\n\t\tfrom = from || { x: '0px', y: '0px' };\n\t\tto = to || { x: '-200%', y: '0px' };\n\n\t\tconst width = Math.abs(parseFloat(to.x - from.x));\n\t\tconst height = Math.abs(parseFloat(to.y - from.y));\n\t\tconst frame = new Keyframes();\n\n\t\tconst fromX = -from.x;\n\t\tconst fromY = -from.y;\n\t\tconst toX = -to.x;\n\t\tconst toY = -to.y;\n\n\t\tframe.add(0, { 'background-position': fromX + 'px ' + fromY + 'px' });\n\t\tframe.add(100, { 'background-position': toX + 'px ' + toY + 'px' });\n\n\t\treturn {\n\t\t\tframe, totalframes, width, height, from, to\n\t\t};\n\t}\n\n\ttoString() {\n\t\treturn 'MovieClip';\n\t}\n}","import DisplayObject from './DisplayObject';\n\nexport default class Rect extends DisplayObject {\n\n\tconstructor(width = 50, height, color) {\n\t\tsuper();\n\n\t\tthis.x = this.y = 0;\n\t\tthis.width = width;\n\t\tthis.height = height || this.width;\n\n\t\tcolor = color || 'blue';\n\t\tthis.background(color);\n\t}\n\n\tget round() {\n\t\treturn this._avatar.round;\n\t}\n\n\tset round(round) {\n\t\tthis._avatar.round = round;\n\t\tthis.css3('borderRadius', this.round + 'px');\n\t}\n\n\ttoString() {\n\t\treturn 'Rect';\n\t}\n}","import DisplayObject from './DisplayObject';\n\nlet intervalId;\n\nexport default class SpriteSheet extends DisplayObject {\n\n    constructor(imgArr, width, height, speed, useIntervl = true, useCssSprite = false) {\n        super();\n\n        intervalId = -1;\n        this.imgArr = imgArr;\n        if (typeof speed === 'boolean') {\n            this.speed = 30;\n            this.useCssSprite = this.speed;\n        } else {\n            this.speed = speed || 30;\n            this.useCssSprite = useCssSprite;\n        }\n\n        this.useIntervl = useIntervl;\n        this.state = 'stop';\n\n        this.originalHeight = height;\n        this.originalWidth = width;\n        this.currentFrame = 1;\n        this.prevFrame = this.currentFrame;\n        this.totalFrames = imgArr.length;\n\n        this.setBackgroundImage();\n\n        this.loop = true;\n        this.prvePlay = false;\n        this.elapsed = 0;\n        this.stop();\n    }\n\n    setBackgroundImage() {\n        if (this.useCssSprite) {\n            this.removeClass(this.imgArr[this.prevFrame - 1]);\n            this.addClass(this.imgArr[this.currentFrame - 1]);\n        } else {\n            this.backgroundImage = this.imgArr[this.currentFrame - 1];\n        }\n    }\n\n    play() {\n        if (this.useIntervl) {\n            if (intervalId < 0) intervalId = setInterval(() => this.update(), 1000 / this.speed);\n        }\n\n        this.state = 'play';\n    }\n\n    stop(clear) {\n        if (this.useIntervl && clear) {\n            clearInterval(intervalId);\n            intervalId = -1;\n        }\n\n        this.state = 'stop';\n    }\n\n    gotoAndPlay(frame) {\n        this.currentFrame = frame;\n        this.setBackgroundImage();\n        this.play();\n        this.state = 'play';\n    }\n\n    gotoAndStop(frame) {\n        this.currentFrame = frame;\n        this.setBackgroundImage();\n        this.stop();\n        this.state = 'stop';\n    }\n\n    update() {\n        if (this.state === 'stop') return;\n\n        if (!this.useIntervl) {\n            if (!this.oldTime) this.oldTime = new Date().getTime();\n\n            const time = new Date().getTime();\n            this.elapsed += (time - this.oldTime);\n            this.oldTime = time;\n\n            if (this.elapsed >= 1000 / this.speed) {\n                this.elapsed = this.elapsed % (1000 / this.speed);\n            } else {\n                return;\n            }\n        }\n\n        this.render();\n    }\n\n    render() {\n        // The use of two times for a reason\n        if (this.state === 'stop') return;\n\n        this.prevFrame = this.currentFrame;\n\n        if (this.prvePlay)\n            this.currentFrame--;\n        else\n            this.currentFrame++;\n\n        if (this.prvePlay) {\n            if (this.loop) {\n                if (this.currentFrame < 1) this.currentFrame = this.totalFrames;\n            } else {\n                if (this.currentFrame <= 1) {\n                    this.currentFrame = 1;\n                    this.stop();\n                }\n            }\n        } else {\n            if (this.loop) {\n                if (this.currentFrame > this.totalFrames) this.currentFrame = 1;\n            } else {\n                if (this.currentFrame >= this.totalFrames) {\n                    this.currentFrame = this.totalFrames;\n                    this.stop();\n                }\n            }\n        }\n\n        this.setBackgroundImage();\n    }\n\n    toString() {\n        return 'SpriteSheet';\n    }\n}","import Agile from '../core/Agile';\nimport Color from '../utils/Color';\nimport DisplayObject from './DisplayObject';\n\nexport default class Triangle extends DisplayObject {\n\tconstructor(width = 100, height = 173.2, color = '#00cc22') {\n\t\tsuper();\n\n\t\tthis.css({\n\t\t\t'width': '0px',\n\t\t\t'height': '0px'\n\t\t});\n\n\t\tthis.css({\n\t\t\t'borderStyle': 'solid',\n\t\t\t'borderTopColor': 'transparent',\n\t\t\t'borderRightColor': 'transparent',\n\t\t\t'borderLeftColor': 'transparent'\n\t\t}, 3);\n\n\t\tthis._avatar.ox = 0;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.color = color;\n\t\tthis.x = this.y = 0;\n\t}\n\n\tget color() {\n\t\treturn this._avatar.color;\n\t}\n\n\tset color(color) {\n\t\tif (color === 'random' || color === '#random')\n\t\t\tcolor = Color.randomColor();\n\n\t\tthis._avatar.color = color;\n\t\tthis.css3('borderBottomColor', this.color);\n\t}\n\n\tget originalWidth() {\n\t\treturn this._avatar.originalWidth\n\t}\n\n\tset originalWidth(originalWidth) {\n\t\tthis._avatar.originalWidth = originalWidth;\n\t}\n\n\tget originalHeight() {\n\t\treturn this._avatar.originalHeight\n\t}\n\n\tset originalHeight(originalHeight) {\n\t\tthis._avatar.originalHeight = originalHeight;\n\t}\n\n\tget width() {\n\t\treturn this._avatar.width;\n\t}\n\n\tset width(width) {\n\t\tthis._avatar.width = width;\n\n\t\tif (!this.originalWidth) {\n\t\t\tthis.originalWidth = width;\n\t\t\tthis.css({\n\t\t\t\t'borderWidth': '0px',\n\t\t\t\t'borderRightWidth': width + 'px',\n\t\t\t\t'borderLeftWidth': width + 'px'\n\t\t\t}, 3);\n\t\t\tthis._avatar.ox = width / 2;\n\t\t} else {\n\t\t\tthis.scaleX = this.width / this.originalWidth;\n\t\t}\n\t}\n\n\tget height() {\n\t\treturn this._avatar.height;\n\t}\n\n\tset height(height) {\n\t\tthis._avatar.height = height;\n\n\t\tif (!this.originalHeight) {\n\t\t\tthis.originalHeight = height;\n\t\t\tthis.css({\n\t\t\t\t'borderTopWidth': '0px',\n\t\t\t\t'borderBottomWidth': height + 'px'\n\t\t\t}, 3);\n\t\t} else {\n\t\t\tthis.scaleY = this.height / this.originalHeight;\n\t\t}\n\t}\n\n\tget x() {\n\t\treturn this._avatar.x + this._avatar.ox;\n\t}\n\n\tset x(x) {\n\t\tthis._avatar.x = x - this._avatar.ox;\n\t\tthis.transform();\n\t}\n\n\ttransform() {\n\t\tlet parentOffsetX, parentOffsetY, thisOffsetX, thisOffsetY, translate, rotate, scale, skew;\n\n\t\tif (Agile.mode === '3d' && Agile.support3d) {\n\t\t\tparentOffsetX = this.parent ? this.parent.regX * this.parent.originalWidth : 0;\n\t\t\tparentOffsetY = this.parent ? this.parent.regY * this.parent.originalHeight : 0;\n\t\t\tthisOffsetX = this.regX * this.originalWidth;\n\t\t\tthisOffsetY = this.regY * this.originalHeight;\n\t\t\ttranslate = 'translate3d(' + (this._avatar.x - thisOffsetX + parentOffsetX) + 'px,' + (this.y - thisOffsetY + parentOffsetY) + 'px,' + this.z + 'px) ';\n\t\t\trotate = 'rotateX(' + this.rotationX + 'deg) ' + 'rotateY(' + this.rotationY + 'deg) ' + 'rotateZ(' + this.rotationZ + 'deg) ';\n\t\t\tscale = 'scale3d(' + this.scaleX + ',' + this.scaleY + ',' + this.scaleZ + ') ';\n\t\t\tskew = 'skew(' + this.skewX + 'deg,' + this.skewY + 'deg)';\n\n\t\t\tthis.css3('transform', translate + rotate + scale + skew);\n\t\t} else {\n\t\t\tparentOffsetX = this.parent ? this.parent.regX * this.parent.originalWidth : 0;\n\t\t\tparentOffsetY = this.parent ? this.parent.regY * this.parent.originalHeight : 0;\n\t\t\tthisOffsetX = this.regX * this.originalWidth;\n\t\t\tthisOffsetY = this.regY * this.originalHeight;\n\t\t\ttranslate = 'translate(' + (this._avatar.x - thisOffsetX + parentOffsetX) + 'px,' + (this.y - thisOffsetY + parentOffsetY) + 'px) ';\n\t\t\trotate = 'rotate(' + this.rotationZ + 'deg) ';\n\t\t\tscale = 'scale(' + this.scaleX + ',' + this.scaleY + ') ';\n\t\t\tskew = 'skew(' + this.skewX + 'deg,' + this.skewY + 'deg)';\n\n\t\t\tthis.css3('transform', translate + rotate + scale + skew);\n\t\t}\n\t}\n\n\tgetCirumRadius() {\n\t\tconst tha = 2 * Math.atan2(this.height, this.width);\n\t\treturn this.width / Math.sin(tha);\n\t}\n\n\tregCircumcenter() {\n\t\tthis.regY = this.getCirumRadius() / this.height;\n\t}\n\n\ttoString() {\n\t\treturn 'Triangle';\n\t}\n}","export default {\n\t'linear': 'linear',\n\t'easeBasic': 'ease',\n\t'easeInBasic': 'ease-in',\n\t'easeOutBasic': 'ease-out',\n\t'easeInOutBasic': 'ease-in-out',\n\t'easeOutCubic': 'cubic-bezier(.215,.61,.355,1)',\n\t'easeInOutCubic': 'cubic-bezier(.645,.045,.355,1)',\n\t'easeInCirc': 'cubic-bezier(.6,.04,.98,.335)',\n\t'easeOutCirc': 'cubic-bezier(.075,.82,.165,1)',\n\t'easeInOutCirc': 'cubic-bezier(.785,.135,.15,.86)',\n\t'easeInExpo': 'cubic-bezier(.95,.05,.795,.035)',\n\t'easeOutExpo': 'cubic-bezier(.19,1,.22,1)',\n\t'easeInOutExpo': 'cubic-bezier(1,0,0,1)',\n\t'easeInQuad': 'cubic-bezier(.55,.085,.68,.53)',\n\t'easeOutQuad': 'cubic-bezier(.25,.46,.45,.94)',\n\t'easeInOutQuad': 'cubic-bezier(.455,.03,.515,.955)',\n\t'easeInQuart': 'cubic-bezier(.895,.03,.685,.22)',\n\t'easeOutQuart': 'cubic-bezier(.165,.84,.44,1)',\n\t'easeInOutQuart': 'cubic-bezier(.77,0,.175,1)',\n\t'easeInQuint': 'cubic-bezier(.755,.05,.855,.06)',\n\t'easeOutQuint': 'cubic-bezier(.23,1,.32,1)',\n\t'easeInOutQuint': 'cubic-bezier(.86,0,.07,1)',\n\t'easeInSine': 'cubic-bezier(.47,0,.745,.715)',\n\t'easeOutSine': 'cubic-bezier(.39,.575,.565,1)',\n\t'easeInOutSine': 'cubic-bezier(.445,.05,.55,.95)',\n\t'easeInBack': 'cubic-bezier(.6,-.28,.735,.045)',\n\t'easeOutBack': 'cubic-bezier(.175, .885,.32,1.275)',\n\t'easeInOutBack': 'cubic-bezier(.68,-.55,.265,1.55)',\n\t'stepStart': 'step-start',\n\t'stepStop': 'step-stop'\n}","import Image from '../display/Image';\nimport Ease from '../animate/ease';\nimport Keyframes from '../animate/Keyframes';\n\nexport default class ScrollingBg extends Image {\n\n\tconstructor(image, width, height, speed = 10, direction = 'left', backgroundWidth = 0, backgroundHeight = 0) {\n\t\tsuper(image, width, height);\n\n\t\tthis.widthSize = true;\n\t\tthis.heightSize = true;\n\n\t\tthis.speed = speed;\n\t\tthis.direction = direction;\n\n\t\t// fix background-position-y bug\n\t\tthis.backgroundWidth = backgroundWidth;\n\t\tthis.backgroundHeight = backgroundHeight;\n\t\tthis.originalHeight = height;\n\t\tthis.originalWidth = width;\n\n\t\tthis.scrolling();\n\t}\n\n\tget backgroundWidth() {\n\t\treturn this._avatar.backgroundWidth;\n\t}\n\n\tset backgroundWidth(backgroundWidth) {\n\t\tthis._avatar.backgroundWidth = backgroundWidth;\n\t\tthis.scrolling();\n\t}\n\n\tget backgroundHeight() {\n\t\treturn this._avatar.backgroundHeight;\n\t}\n\n\tset backgroundHeight(backgroundHeight) {\n\t\tthis._avatar.backgroundHeight = backgroundHeight;\n\t\tthis.scrolling();\n\t}\n\n\tget speed() {\n\t\treturn this._avatar.speed;\n\t}\n\n\tset speed(speed) {\n\t\tthis._avatar.speed = speed;\n\t\tthis.scrolling();\n\t}\n\n\tget direction() {\n\t\treturn this._avatar.direction;\n\t}\n\n\tset direction(direction) {\n\t\tthis._avatar.direction = direction;\n\t\tthis.scrolling();\n\t}\n\n\tscrolling(speed, ease) {\n\t\tspeed = speed || this.speed;\n\t\tease = ease || Ease.linear;\n\n\t\tif (this.scrollframes) {\n\t\t\tthis.removeFrame(this.scrollframes);\n\t\t\tthis.scrollframes.destroy();\n\t\t}\n\n\t\tthis.scrollframes = new Keyframes();\n\t\tthis.scrollframes.add(0, {\n\t\t\t'background-position': '0% 0%'\n\t\t});\n\n\t\tif (this.direction === 'left') {\n\t\t\tconst h = this.backgroundWidth ? 1 * this.backgroundWidth + 'px' : '200%';\n\t\t\tthis.scrollframes.add(100, {\n\t\t\t\t'background-position': h + ' 0%'\n\t\t\t});\n\t\t} else if (this.direction === 'right') {\n\t\t\tconst h = this.backgroundWidth ? -1 * this.backgroundWidth + 'px' : '-200%';\n\t\t\tthis.scrollframes.add(100, {\n\t\t\t\t'background-position': h + ' 0%'\n\t\t\t});\n\t\t} else if (this.direction === 'up') {\n\t\t\tconst h = this.backgroundHeight ? -1 * this.backgroundHeight + 'px' : '0%';\n\t\t\tthis.scrollframes.add(100, {\n\t\t\t\t'background-position': '0% ' + h\n\t\t\t});\n\t\t} else if (this.direction === 'down' || this.direction === 'bottom') {\n\t\t\tconst h = this.backgroundHeight ? 1 * this.backgroundHeight + 'px' : '0%';\n\t\t\tthis.scrollframes.add(100, {\n\t\t\t\t'background-position': '0% ' + h\n\t\t\t});\n\t\t}\n\n\t\tthis.addFrame(speed, this.scrollframes, {\n\t\t\tloop: -1,\n\t\t\tease\n\t\t});\n\t}\n\n\ttoString() {\n\t\treturn 'ScrollingBg';\n\t}\n}","import DisplayObject from '../display/DisplayObject';\n\nexport default class Semicircle extends DisplayObject {\n\n\tconstructor(radius = 25, color = 'purple') {\n\t\tsuper();\n\n\t\tthis.radius = radius;\n\t\tthis.background(color);\n\t\tthis.x = this.y = 0;\n\t}\n\n\tget radius() {\n\t\treturn this._avatar.radius;\n\t}\n\n\tset radius(radius) {\n\t\tthis._avatar.radius = radius;\n\t\tthis.width = this.radius * 2;\n\t\tthis.height = this.radius;\n\n\t\tthis.css3('borderRadius', `${this.radius}px ${this.radius}px 0 0`);\n\t}\n\n\ttoString() {\n\t\treturn 'Semicircle';\n\t}\n}","import Css from '../core/Css';\nimport Text from '../display/Text';\nimport Color from '../utils/Color';\nimport Utils from '../utils/Utils';\n\nexport default class Filter {\n\n\tconstructor(type) {\n\t\tthis.type = type;\n\t\tthis.elements = [];\n\t\tthis.styleObj = {};\n\t\tthis.arguments = arguments;\n\t\tthis.a = this.b = this.c = this.d = this.e = this.f = this.g = null;\n\t}\n\n\tapply(agileEle) {\n\t\tthis.elements.push(agileEle);\n\t\tthis.styleObj[agileEle.id] = { style: '', value: '' };\n\n\t\tswitch (this.type) {\n\t\t\tcase 'stroke':\n\t\t\t\tthis.a = this.arguments.length > 1 ? this.arguments[1] : 5;\n\t\t\t\tthis.b = this.arguments.length > 2 ? this.arguments[2] : '#000';\n\t\t\t\tbreak;\n\n\t\t\tcase 'blur':\n\t\t\t\tthis.a = this.arguments.length > 1 ? this.arguments[1] : 5;\n\t\t\t\tthis.b = this.arguments.length > 2 ? this.arguments[2] : '#000';\n\t\t\t\tbreak;\n\n\t\t\tcase 'shadow':\n\t\t\t\tthis.a = this.arguments.length > 1 ? this.arguments[1] : 3;\n\t\t\t\tthis.b = this.arguments.length > 2 ? this.arguments[2] : 3;\n\t\t\t\tthis.c = this.arguments.length > 3 ? this.arguments[3] : 5;\n\t\t\t\tthis.d = this.arguments.length > 4 ? this.arguments[4] : '#000';\n\t\t\t\tbreak;\n\n\t\t\tcase 'glow':\n\t\t\t\tthis.a = this.arguments.length > 1 ? this.arguments[1] : 5;\n\t\t\t\tthis.b = this.arguments.length > 2 ? this.arguments[2] : '#000';\n\t\t\t\tbreak;\n\n\t\t\tcase 'insetglow':\n\t\t\tcase 'insetGlow':\n\t\t\tcase 'inset-glow':\n\t\t\t\tthis.a = this.arguments.length > 1 ? this.arguments[1] : 5;\n\t\t\t\tthis.b = this.arguments.length > 2 ? this.arguments[2] : '#000';\n\t\t\t\tbreak;\n\n\t\t\tcase '3d':\n\t\t\t\tthis.a = this.arguments.length > 1 ? this.arguments[1] : 6;\n\t\t\t\tthis.b = this.arguments.length > 2 ? this.arguments[2] : '#000';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.reset(agileEle);\n\t}\n\n\treset(elements) {\n\t\tlet thisAgiles = elements === undefined ? this.elements : [elements];\n\n\t\tfor (let i = 0, length = thisAgiles.length; i < length; i++) {\n\t\t\tlet agileEle = thisAgiles[i];\n\t\t\tthis.styleObj[agileEle.id].value = '';\n\n\t\t\tswitch (this.type) {\n\t\t\t\tcase 'stroke':\n\t\t\t\t\tif (agileEle instanceof Text) {\n\t\t\t\t\t\tconst s1 = (-this.a) + 'px ' + (-this.a) + 'px 0 ' + this.b;\n\t\t\t\t\t\tconst s2 = (this.a) + 'px ' + (-this.a) + 'px 0 ' + this.b;\n\t\t\t\t\t\tconst s3 = (-this.a) + 'px ' + (this.a) + 'px 0 ' + this.b;\n\t\t\t\t\t\tconst s4 = (this.a) + 'px ' + (this.a) + 'px 0 ' + this.b;\n\n\t\t\t\t\t\tthis.styleObj[agileEle.id].value = `${s1},${s2},${s3},${s4}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.styleObj[agileEle.id].value = `0 0 0 ${this.a}px ${this.b}`;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'blur':\n\t\t\t\t\tCss.css2(agileEle.element, 'color', Color.alpha0);\n\t\t\t\t\tCss.css3(agileEle.element, 'background', Color.alpha0);\n\t\t\t\t\tthis.styleObj[agileEle.id].value = `0 0 ${this.a}px ${this.b}`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'shadow':\n\t\t\t\t\tthis.styleObj[agileEle.id].value = `${this.a}px ${this.b}px ${this.c}px ${this.d}`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'glow':\n\t\t\t\t\tthis.styleObj[agileEle.id].value = `0 0 ${this.a}px ${this.b}`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'insetglow':\n\t\t\t\tcase 'insetGlow':\n\t\t\t\tcase 'inset-glow':\n\t\t\t\t\tthis.styleObj[agileEle.id].value = `inset 0 0 ${this.a}px ${this.b}`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase '3d':\n\t\t\t\t\tfor (let i = 1, length = this.a; i <= length; i++) {\n\t\t\t\t\t\tif (i === length)\n\t\t\t\t\t\t\tthis.styleObj[agileEle.id].value += `${i}px ${i}px ${this.b}`;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.styleObj[agileEle.id].value += `${i}px ${i}px ${this.b},`;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (agileEle instanceof Text)\n\t\t\t\tthis.styleObj[agileEle.id].style = 'textShadow';\n\t\t\telse\n\t\t\t\tthis.styleObj[agileEle.id].style = 'boxShadow';\n\n\t\t\tCss.css3(agileEle.element, this.styleObj[agileEle.id].style, this.styleObj[agileEle.id].value);\n\t\t}\n\t}\n\n\terase(agileEle) {\n\t\tUtils.arrayRemove(this.elements, agileEle);\n\t\tCss.css3(agileEle.element, this.styleObj[agileEle.id].style, null);\n\t\tdelete this.styleObj[agileEle.id];\n\t}\n}","export default class MovieClipLabel {\n\n\tconstructor(label, x1, y1, x2, y2, frames = 1) {\n\t\tif (typeof x1 === 'object') {\n\t\t\tthis.from = x1.from;\n\t\t\tthis.to = x1.to;\n\t\t\tthis.label = label;\n\t\t\tthis.totalframes = x1.totalframes || 1;\n\t\t} else {\n\t\t\tthis.label = label;\n\t\t\tthis.from = {\n\t\t\t\tx: x1,\n\t\t\t\ty: y1\n\t\t\t};\n\n\t\t\tthis.to = {\n\t\t\t\tx: x2,\n\t\t\t\ty: y2\n\t\t\t};\n\n\t\t\tthis.totalframes = frames;\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn 'MovieClipLabel';\n\t}\n}","import Agile from '../core/Agile';\nimport Css from '../core/Css';\nimport Text from '../display/Text';\nimport Utils from '../utils/Utils';\nimport JsonUtils from '../utils/JsonUtils';\n\nexport default {\n\tkeyword: ['ease', 'delay', 'yoyo', 'all', 'loop', 'repeat', 'frame', 'onStart', 'onUpdate', 'onComplete', 'onCompleteParams', 'overwrite', 'setTimeout'],\n\tcallbacks: {},\n\targuments: {},\n\toldAttribute: {},\n\tsetTimeout: true,\n\ttimeoutDelay: 30,\n\tindex: 0,\n\n\tto(agile, duration, paramsObj) {\n\t\tconst propertys = paramsObj['all'] ? ['all'] : this.apply(agile, paramsObj, this.index);\n\t\tlet transition = '';\n\n\t\tfor (let i = 0; i < propertys.length; i++) {\n\t\t\tif (i > 0) transition += ', ';\n\n\t\t\ttransition += propertys[i];\n\t\t\ttransition += ' ' + duration + 's';\n\n\t\t\tif (paramsObj['ease']) transition += ' ' + paramsObj['ease'];\n\t\t\tif (paramsObj['delay']) transition += ' ' + paramsObj['delay'] + 's';\n\t\t}\n\n\t\tlet id = -999;\n\t\tif (this.useSetTimeout()) {\n\t\t\tid = setTimeout((agile, transition, paramsObj, tweenIndex) => {\n\t\t\t\tthis.start(agile, transition, paramsObj, tweenIndex);\n\t\t\t\tid = -999;\n\t\t\t}, this.timeoutDelay, agile, transition, paramsObj, this.index);\n\t\t} else {\n\t\t\tthis.start(agile, transition, paramsObj, this.index);\n\t\t}\n\n\t\tthis.arguments[this.index + ''] = [agile, duration, paramsObj, id];\n\t\treturn this.index++;\n\t},\n\n\tuseSetTimeout() {\n\t\tlet use = false;\n\t\tif (this.setTimeout !== undefined) {\n\t\t\tuse = this.setTimeout;\n\t\t} else {\n\t\t\tif (Utils.browser().isFirefox || Utils.browser().isIE) {\n\t\t\t\tuse = true;\n\t\t\t} else {\n\t\t\t\tuse = false;\n\t\t\t}\n\t\t}\n\n\t\treturn use;\n\t},\n\n\tstart(agile, transition, paramsObj, tweenIndex) {\n\t\tif (paramsObj['overwrite']) {\n\t\t\tthis.killTweensOf(agile);\n\t\t\tUtils.destroyObject(agile.transitions);\n\t\t\tagile.transitions[`${tweenIndex}`] = transition;\n\t\t} else {\n\t\t\tconst preTransition = Utils.isEmpty(agile.transitions) || JsonUtils.object2String(agile.transitions) === 'none' ? '' : Css.css3(agile.element, 'transition') + ', ';\n\t\t\tagile.transitions[`${tweenIndex}`] = transition;\n\t\t\ttransition = preTransition + transition;\n\t\t}\n\n\t\tCss.css3(agile.element, 'transition', transition);\n\t\tthis.set(agile, paramsObj);\n\n\t\tthis.addCallback(agile);\n\n\t\tif (paramsObj['onStart']) {\n\t\t\tconst delay = paramsObj['delay'] || 0;\n\t\t\tsetTimeout(paramsObj['onStart'], delay * 1000);\n\t\t}\n\n\t\tif (paramsObj['onComplete']) {\n\t\t\tif (paramsObj['onCompleteParams'])\n\t\t\t\tthis.callbacks[agile.id].completes[`${tweenIndex}`] = [paramsObj['onComplete'], paramsObj['onCompleteParams']];\n\t\t\telse\n\t\t\t\tthis.callbacks[agile.id].completes[`${tweenIndex}`] = [paramsObj['onComplete']];\n\t\t}\n\t},\n\n\tfrom(agile, duration, paramsObj) {\n\t\tlet toObj = {};\n\n\t\tfor (let index in paramsObj) {\n\t\t\tlet newIndex = `_${index}_`;\n\t\t\tlet i = this.getKeywordString().search(new RegExp(newIndex, 'i'));\n\n\t\t\tif (i === -1) {\n\t\t\t\ttoObj[index] = agile[index];\n\t\t\t\tagile[index] = paramsObj[index];\n\t\t\t} else {\n\t\t\t\ttoObj[index] = paramsObj[index];\n\t\t\t}\n\t\t}\n\n\t\treturn this.to(agile, duration, toObj);\n\t},\n\n\tfromTo(agile, duration, fromObj, toObj) {\n\t\tfor (let index in fromObj) {\n\t\t\tlet newIndex = `_${index}_`;\n\t\t\tlet i = this.getKeywordString().search(new RegExp(newIndex, 'i'));\n\t\t\tif (i === -1) agile[index] = fromObj[index];\n\t\t}\n\n\t\treturn this.to(agile, duration, toObj);\n\t},\n\n\tapply(agile, paramsObj, tweenIndex) {\n\t\tconst propertys = [];\n\n\t\tfor (let index in paramsObj) {\n\t\t\tlet newIndex = `_${index}_`;\n\t\t\tlet i = this.getKeywordString().search(new RegExp(newIndex, 'i'));\n\n\t\t\tif (i <= -1) {\n\t\t\t\tthis.getOldAttribute(agile, tweenIndex)[index] = agile[index];\n\n\t\t\t\tif (index === 'alpha')\n\t\t\t\t\tindex = 'opacity';\n\t\t\t\telse if (index === 'color' && !(agile instanceof Text))\n\t\t\t\t\tindex = 'background-color';\n\t\t\t\telse if (index === 'x' || index === 'y' || index === 'z')\n\t\t\t\t\tindex = Agile.transform;\n\t\t\t\telse if (index === 'scaleX' || index === 'scaleY' || index === 'scaleZ')\n\t\t\t\t\tindex = Agile.transform;\n\t\t\t\telse if (index === 'rotationX' || index === 'rotation' || index === 'rotationY' || index === 'rotationZ')\n\t\t\t\t\tindex = Agile.transform;\n\t\t\t\telse if (index === 'skewX' || index === 'skewY')\n\t\t\t\t\tindex = Agile.transform;\n\t\t\t\telse if (index === 'regX' || index === 'regY')\n\t\t\t\t\tindex = this.Agile.transformOrigin;\n\t\t\t\telse if (index === 'width' || index === 'height')\n\t\t\t\t\tindex = Agile.transform;\n\t\t\t\telse if (index === 'originalWidth')\n\t\t\t\t\tindex = 'width';\n\t\t\t\telse if (index === 'originalHeight')\n\t\t\t\t\tindex = 'height';\n\n\t\t\t\tif (propertys.indexOf(index) < 0) propertys.push(index);\n\t\t\t}\n\t\t}\n\n\t\treturn propertys;\n\t},\n\n\tkillTweensOf(agile, complete) {\n\t\tif (Utils.isNumber(agile)) {\n\t\t\tif (this.arguments[`${agile}`]) {\n\t\t\t\tconst newagile = this.arguments[`${agile}`][0];\n\t\t\t\tconst param = this.arguments[`${agile}`][2];\n\t\t\t\tlet id = this.arguments[`${agile}`][3];\n\t\t\t\tif (id > 0) {\n\t\t\t\t\tclearTimeout(id);\n\t\t\t\t\tid = -999;\n\t\t\t\t}\n\n\t\t\t\tif (complete) this.set(newagile, param);\n\t\t\t\tCss.css3(newagile.element, 'transition', 'none !important');\n\t\t\t\tCss.css3(newagile.element, 'transition', 'none');\n\n\t\t\t\tthis.removeCallback(newagile);\n\t\t\t\tdelete this.arguments[`${agile}`];\n\t\t\t\tdelete newagile.transitions[`${agile}`];\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let tweenIndex in this.arguments) {\n\t\t\t\tlet arr = this.arguments[tweenIndex];\n\n\t\t\t\tif (arr[0] === agile) {\n\t\t\t\t\tlet id = arr[3];\n\t\t\t\t\tif (id > 0) {\n\t\t\t\t\t\tclearTimeout(id);\n\t\t\t\t\t\tid = -999;\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete this.arguments[tweenIndex];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (complete) {\n\t\t\t\tif (this.oldAttribute[agile.id]) {\n\t\t\t\t\tfor (let tweenIndex in this.oldAttribute[agile.id]) {\n\t\t\t\t\t\tfor (let p in this.oldAttribute[agile.id][tweenIndex]) {\n\t\t\t\t\t\t\tagile[p] = this.oldAttribute[agile.id][tweenIndex][p];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdelete this.oldAttribute[agile.id][tweenIndex];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tUtils.destroyObject(agile.transitions);\n\t\t\tdelete this.oldAttribute[agile.id];\n\t\t\tthis.removeCallback(agile);\n\n\t\t\tCss.css3(agile.element, 'transition', 'none !important');\n\t\t\tCss.css3(agile.element, 'transition', 'none');\n\t\t}\n\t},\n\n\tkillAll(complete) {\n\t\tfor (let agileID in this.oldAttribute) {\n\t\t\tconst agile = Agile.getEleById(agileID);\n\t\t\tthis.killTweensOf(agile, complete);\n\t\t}\n\t},\n\n\tset(agile, paramsObj) {\n\t\tagile.css3('transition');\n\n\t\tfor (let index in paramsObj) {\n\t\t\tlet newIndex = `_${index}_`;\n\t\t\tlet i = this.getKeywordString().search(new RegExp(newIndex, 'i'));\n\n\t\t\tif (i <= -1) {\n\t\t\t\tlet j = Agile.keyword.search(new RegExp(newIndex, 'i'));\n\t\t\t\tif (j <= -1) {\n\t\t\t\t\tif (index.indexOf('-') > -1) {\n\t\t\t\t\t\tlet arr = index.split('-');\n\t\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tif (i !== 0) arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tagile.css2(arr.join(''), paramsObj[index]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tagile.css2(index, paramsObj[index]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tagile[index] = paramsObj[index];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove(agile, tweenIndex) {\n\t\tdelete agile.transitions[`${tweenIndex}`];\n\t\tconst transitions = JsonUtils.object2String(agile.transitions);\n\t\tCss.css3(agile.element, 'transition', transitions);\n\t},\n\n\tgetKeywordString() {\n\t\tif (!this.keywordString) this.keywordString = '_' + this.keyword.join('_') + '_';\n\t\treturn this.keywordString;\n\t},\n\n\taddCallback(agile) {\n\t\tif (this.callbacks[agile.id]) return this.callbacks[agile.id];\n\n\t\tthis.callbacks[agile.id] = {\n\t\t\tfun: e => {\n\t\t\t\tconst callback = this.callbacks[agile.id];\n\t\t\t\tfor (let index in agile.transitions) {\n\t\t\t\t\tif (agile.transitions[index].indexOf(e.propertyName) > -1) {\n\t\t\t\t\t\tthis.remove(agile, index);\n\t\t\t\t\t\tthis.deleteOldAttribute(agile, index);\n\n\t\t\t\t\t\tif (callback.completes[index]) {\n\t\t\t\t\t\t\tconst completes = callback.completes[index];\n\t\t\t\t\t\t\tif (completes.length === 1)\n\t\t\t\t\t\t\t\tcompletes[0].apply(agile);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tcompletes[0].apply(agile, completes[1]);\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tdelete callback.completes[index];\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcompletes: {}\n\t\t}\n\n\t\tthis.getPrefixEvent();\n\t\tagile.element.addEventListener(this.transitionend, this.callbacks[agile.id].fun, false);\n\n\t\treturn this.callbacks[agile.id];\n\t},\n\n\tremoveCallback(agile) {\n\t\tif (this.callbacks[agile.id]) {\n\t\t\tconst callback = this.callbacks[agile.id];\n\t\t\tthis.getPrefixEvent();\n\t\t\tagile.element.removeEventListener(this.transitionend, callback.fun, false);\n\n\t\t\tif (callback.completes) Utils.destroyObject(callback.completes);\n\t\t\tUtils.destroyObject(callback);\n\n\t\t\tdelete this.callbacks[agile.id];\n\t\t}\n\t},\n\n\tgetPrefixEvent() {\n\t\tif (!this.transitionend) {\n\t\t\tconst prefix = Css.getPrefix();\n\t\t\tswitch (prefix) {\n\t\t\t\tcase 'Webkit':\n\t\t\t\t\tthis.transitionend = 'webkitTransitionEnd';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ms':\n\t\t\t\t\tthis.transitionend = 'MSTransitionEnd';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'O':\n\t\t\t\t\tthis.transitionend = 'oTransitionEnd';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Moz':\n\t\t\t\t\tthis.transitionend = 'transitionend';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.transitionend = 'transitionend';\n\t\t\t}\n\t\t}\n\t},\n\n\tgetOldAttribute(agile, tweenIndex) {\n\t\tif (!this.oldAttribute[agile.id]) this.oldAttribute[agile.id] = {};\n\t\tif (!this.oldAttribute[agile.id][tweenIndex]) this.oldAttribute[agile.id][tweenIndex] = {};\n\n\t\treturn this.oldAttribute[agile.id][tweenIndex];\n\t},\n\n\tdeleteOldAttribute(agile, tweenIndex) {\n\t\tif (this.oldAttribute[agile.id]) {\n\t\t\tdelete this.oldAttribute[agile.id][tweenIndex];\n\n\t\t\tif (Utils.isEmpty(this.oldAttribute[agile.id])) delete this.oldAttribute[agile.id];\n\t\t}\n\t}\n}","import Agile from './core/Agile';\nimport Css from './core/Css';\n\nimport DisplayObject from './display/DisplayObject';\nimport Circle from './display/Circle';\nimport Container from './display/Container';\nimport Dom from './display/Dom';\nimport Ellipse from './display/Ellipse';\nimport Image from './display/Image';\nimport Line from './display/Line';\nimport MovieClip from './display/MovieClip';\nimport Rect from './display/Rect';\nimport SpriteSheet from './display/SpriteSheet';\nimport Text from './display/Text';\nimport Triangle from './display/Triangle';\n\nimport ScrollingBg from './extras/ScrollingBg';\nimport Semicircle from './extras/Semicircle';\n\nimport Filter from './filter/Filter';\n\nimport Color from './utils/Color';\nimport Utils from './utils/Utils';\nimport LoadManager from './utils/LoadManager';\n\nimport ease from './animate/ease';\nimport Keyframes from './animate/Keyframes';\nimport MovieClipLabel from './animate/MovieClipLabel';\nimport Timeline from './animate/Timeline';\nimport Tween from './animate/Tween';\n\nAgile.Css = Css;\n\nAgile.DisplayObject = DisplayObject;\nAgile.Container = Container;\nAgile.Circle = Circle;\nAgile.Dom = Dom;\nAgile.Ellipse = Ellipse;\nAgile.Image = Image;\nAgile.Line = Line;\nAgile.MovieClip = MovieClip;\nAgile.Rect = Rect;\nAgile.SpriteSheet = SpriteSheet;\nAgile.Text = Text;\nAgile.Triangle = Triangle;\nAgile.ScrollingBg = ScrollingBg;\nAgile.Semicircle = Semicircle;\n\nAgile.Color = Color;\nAgile.Filter = Filter;\nAgile.Utils = Utils;\nAgile.LoadManager = LoadManager;\n\nAgile.MovieClipLabel = MovieClipLabel;\nAgile.Keyframes = Keyframes;\nAgile.Timeline = Timeline;\nAgile.Tween = Tween;\nAgile.ease = ease;\n\nAgile.gradient = Color.gradient.bind(Color);\n\nObject.assign(Agile, ease);\n\n// export\nexport default Agile;"],"names":["id","this","agileObjs","_avatar","keyword","keywordArr","join","transform","Css","getPrefix","transformOrigin","mode","support3d","backface","key","val","test","document","querySelector","getElementById","tag","createElement","element","undefined","getAttribute","setAttribute","style","value","ss","css2","css3","computedStyle","getComputedStyle","getPropertyValue","fixStyle","charAt","toUpperCase","substr","getCss3","a","b","newClassName","className","blank","hasClass","cls","reg","RegExp","replace","match","rel","type","getElementsByTagName","appendChild","sheet","prefix","prefixs","i","length","css3Prefix","getTestElement","toLocaleLowerCase","el","transforms","t","body","insertBefore","window","removeChild","object","Object","keys","n","isNaN","parseFloat","isFinite","prototype","toString","call","obj","prop","hasOwnProperty","navigator","userAgent","toLowerCase","arr","index","indexOf","splice","o","agileEle","str","getStyleBySpace","otherToFloat","split","lenght","s","isArray","isOpera","opr","addons","opera","isFirefox","isSafari","isIE","isChrome","chrome","webstore","color","rest","Utils","isNumber","getDirection","deg","r","g","initValue","h","Math","random","slice","IDCache","name","DisplayObject","numChildren","childrens","filters","animations","transitions","parent","position","zIndex","Agile","DEFAULT_DEPTH","x","y","IDUtils","generateID","attr","backgroundImage","realWidth","originalWidth","scaleX","realHeight","originalHeight","scaleY","css","css3j","styleName","addClass","removeClass","duration","frameObj","parmObj","Timeline","addFrame","frame","removeStyle","removeFrame","complete","removeFrameAfter","pause","resume","child","maxChildrenDepth","push","left","min","width","regX","abs","right","max","top","height","regY","bottom","addChild","arrayRemove","filter","apply","erase","listener","useCapture","addEventListener","removeEventListener","parentOffsetX","parentOffsetY","thisOffsetX","thisOffsetY","translate","rotate","scale","skew","z","rotationX","rotationY","rotationZ","scaleZ","skewX","skewY","fun","touchStartHandler","e","pageX","pageY","events","isMobile","touchStartHandle","touchMoveHandler","touchEndHandler","destroy","destroyObject","kill","Tween","killTweensOf","rotation","regx","regy","regZ","regz","visible","vis","alpha","Color","randomColor","img","mask","select","cursor","bf","Circle","radius","background","Dom","dom","resetPosition","_this","display","defalutDisplay","Container","getCssValue","perspectiveOriginX","perspectiveOriginY","perspectiveOriginZ","containers","perspective","ox","oy","oz","Ellipse","radiusX","radiusY","array","EventDispatcher","_listeners","listenerArray","event","target","imageBuffer","LoadManager","_urls","_loaderList","_targetList","_fileSize","_totalSize","loadIndex","loaded","baseURL","parallel","completeHandler","bind","ioErrorHandler","dispatchEvent","LOAD_ERROR","checkLoaded","singleLoad","num","targetList","SINGLE_LOADED","GROUP_LOADED","url","j","String","image","Image","onerror","onload","src","size","callback","myImage","AgileImage","delayEventTime","setClassImage","dispatchImageLoadedEvent","_this2","customEvent","createEvent","initCustomEvent","IMAGE_LOADED","initEvent","widthSize","getImage","imgObj","_this4","heightSize","Line","fromX","fromY","lines","x1","y1","sqrt","angle","atan2","PI","line","tha","w","offsetX","cos","offsetY","sin","v","json","isArr","object2Json","Keyframes","keyframes","100%","label","add","arguments","babelHelpers.typeof","keyframe","timevalue","time","setColor","assign","fill","sort","prevValue","cloneObj","len","k","Avatar","cssText","self","copyAll","copyParent","Text","text","align","textContent","innerText","htmlText","innerHTML","font","weight","smooth","avatarmc","agile","paramsObj","insertKeyframes","removeKeyframes","avatar","clearStyle","copySelf","timeObj","newIndex","search","keyframesTag","styles","getDynamicSheet","JsonUtils","replaceChart","insertRule","cssRules","animation","preTransition","isEmpty","addCallback","callbacks","sets","merge","removes","remove","completes","keyName","eachStyles","rule","deleteRule","rules","CSSRule","KEYFRAMES_RULE","MOZ_KEYFRAMES_RULE","WEBKIT_KEYFRAMES_RULE","O_KEYFRAMES_RULE","MS_KEYFRAMES_RULE","deleteItem","object2String","removeAllFrames","timelineIndex","objectforkey","removeFrameByIndex","getPrefixEvent","animationiteration","animationiterationHandler","animationend","animationName","set","MovieClip","labels","speed","currentFrame","setLabel","loop","stop","playing","recordLabel","frameNumber","props","to","totalframes","play","currentTimelineIndex","from","frome","l","makeFrame","toX","toY","background-position","playFrame","Rect","round","intervalId","SpriteSheet","imgArr","useIntervl","useCssSprite","state","prevFrame","totalFrames","setBackgroundImage","prvePlay","elapsed","setInterval","update","clear","oldTime","Date","getTime","render","Triangle","getCirumRadius","ScrollingBg","direction","backgroundWidth","backgroundHeight","scrolling","ease","Ease","linear","scrollframes","Semicircle","Filter","elements","styleObj","c","d","f","reset","thisAgiles","s1","s2","s3","s4","alpha0","MovieClipLabel","x2","y2","frames","propertys","transition","useSetTimeout","setTimeout","tweenIndex","start","timeoutDelay","browser","delay","toObj","getKeywordString","fromObj","getOldAttribute","newagile","param","removeCallback","oldAttribute","p","agileID","getEleById","keywordString","propertyName","deleteOldAttribute","transitionend","gradient"],"mappings":"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"}